#   ç±»å’Œå¯¹è±¡

C++é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§ä¸ºï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€

C++è®¤ä¸ºä¸‡äº‹ä¸‡ç‰©çš†ä¸ºå¯¹è±¡ã€å¯¹è±¡ä¸Šæœ‰å…¶å±æ€§å’Œè¡Œä¸º

äººå¯ä»¥ä½œä¸ºå¯¹è±¡ï¼Œå±æ€§æœ‰å§“åã€å¹´é¾„ã€èº«é«˜ã€ä½“é‡..ï¼Œè¡Œä¸ºæœ‰èµ°ã€è·‘ã€è·³ã€åƒé¥­ã€å”±æ­Œ...è½¦ä¹Ÿå¯ä»¥ä½œä¸ºå¯¹è±¡ï¼Œå±æ€§æœ‰è½®èƒã€æ–¹å‘ç›˜ã€è½¦ç¯â€¦,è¡Œä¸ºæœ‰è½½äººã€æ”¾éŸ³ä¹ã€æ”¾ç©ºè°ƒ....å…·æœ‰ç›¸åŒæ€§è´¨çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æŠ½è±¡ç§°ä¸ºç±»ï¼Œäººå±äºäººç±»ï¼Œè½¦å±äºè½¦ç±»

## å°è£…

### å°è£…çš„æ„ä¹‰

å°è£…æ˜¯C++é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€

å°è£…çš„æ„ä¹‰ï¼š

* å°†å±æ€§å’Œè¡Œä¸ºä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œè¡¨ç°ç”Ÿæ´»ä¸­çš„äº‹åŠ¡
* å°†å±æ€§å’Œè¡Œä¸ºåŠ ä»¥æƒé™æ§åˆ¶

å°è£…æ„ä¹‰ä¸€ï¼š

â€‹	åœ¨è®¾è®¡ç±»çš„æ—¶å€™ï¼Œå±æ€§å’Œè¡Œä¸ºå†™åœ¨ä¸€èµ·ï¼Œè¡¨ç°äº‹ç‰©

è¯­æ³•ï¼šclassç±»å{è®¿é—®æƒé™ï¼šå±æ€§/è¡Œä¸º}

ç¤ºä¾‹ï¼š

```c++
#include <iostream>
#include <string>
using namespace std;

const double PI = 3.14;//åœ†å‘¨ç‡
//è®¾è®¡ä¸€ä¸ªåœ†ç±»ï¼Œæ±‚åœ†çš„å‘¨é•¿
//åœ†çš„å‘¨é•¿=2*3.14*åŠå¾„
//class ä»£è¡¨è®¾è®¡ä¸€ä¸ªç±»ï¼Œç±»åé¢ç´§è·Ÿæ•´çš„å°±æ˜¯ç±»åç§°
class Circle
{
	//è®¿é—®æƒé™
	//å…¬å…±æƒé™
public:
	//å±æ€§ä¸ºåŠå¾„
	int m_r;
	//è¡Œä¸ºä¸ºè·å–åœ†çš„å‘¨é•¿
	double calculateZC()
	{
		return 2 * PI * m_r;
	}
};
int main()
{
	//é€šè¿‡åœ†ç±»åˆ›å»ºå…·ä½“çš„åœ†å¯¹è±¡
	//å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡(é€šè¿‡ä¸€ä¸ªç±»åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹å«å®ä¾‹åŒ–)
	Circle c1;
	//ç»™åœ†å¯¹è±¡çš„å±æ€§è¿›è¡Œèµ‹å€¼
	c1.m_r = 10;
	cout << "åœ†çš„å‘¨é•¿ä¸ºï¼š" << c1.calculateZC() << endl;
	system("pause");
	return 0;
}
```

ç¤ºä¾‹2ï¼š

```c++
#include <iostream>
#include <string>
using namespace std;

//è®¾è®¡ä¸€ä¸ªå­¦ç”Ÿç±»ï¼Œå±æ€§æœ‰å§“åå’Œå­¦å·ï¼Œå¯ä»¥ç»™å§“åå’Œå­¦å·èµ‹å€¼ï¼Œå¯ä»¥æ˜¾ç¤ºå­¦ç”Ÿçš„å§“åå’Œå­¦å·
class Student
{
public:
	//ç±»ä¸­çš„å±æ€§å’Œè¡Œä¸ºç»Ÿç§°ä¸ºæˆå‘˜
	// å±æ€§ä¹Ÿç§°ä¸ºæˆå‘˜å±æ€§æˆ–æˆå‘˜å˜é‡
	// è¡Œä¸ºä¹Ÿç§°ä¸ºæˆå‘˜å‡½æ•°æˆ–æˆå‘˜æ–¹æ³•
	//è®¾ç½®å±æ€§ï¼Œå§“åå’Œå­¦å·
	string setName;
	int m_id;
	//è¡Œä¸º
	//æ˜¾ç¤ºå§“åå’Œå­¦å·
	void showstudent()
	{
		cout << "å§“åï¼š" << setName << "å­¦å·ï¼š" << m_id << endl;
	}
};

int main()
{
	Student stu;
	stu.setName = "å¼ ä¸‰";
	stu.m_id = 1;
	stu.showstudent();
	system("pause");
	return 0;
}
```

å°è£…æ„ä¹‰äºŒï¼š

ç±»åœ¨è®¾è®¡æ—¶ï¼Œå¯ä»¥æŠŠå±æ€§å’Œè¡Œä¸ºæ”¾åœ¨ä¸åŒçš„æƒé™ä¸‹ï¼ŒåŠ ä»¥æ§åˆ¶

è®¿é—®æƒé™æœ‰ä¸‰ç§ï¼š

1. public	å…¬å…±æƒé™
2. protected   ä¿æŠ¤æƒé™
3. private       ç§æœ‰æƒé™

```c++
#include <iostream>
#include <string>
using namespace std;

//è®¿é—®æƒé™
//public:å…¬å…±çš„			æˆå‘˜ç±»å†…å¯ä»¥è®¿é—®ï¼Œç±»å¤–å¯ä»¥è®¿é—®
//protected:å—ä¿æŠ¤çš„	æˆå‘˜ç±»å†…å¯ä»¥è®¿é—®ï¼Œç±»å¤–ä¸å¯ä»¥è®¿é—®	å„¿å­ä¹Ÿå¯ä»¥è®¿é—®çˆ¶äº²ä¸­çš„ä¿æŠ¤å†…å®¹ 
//private:ç§æœ‰çš„		æˆå‘˜ç±»å†…å¯ä»¥è®¿é—®ï¼Œç±»å¤–ä¸å¯ä»¥è®¿é—®	å„¿å­ä¸å¯ä»¥è®¿é—®çˆ¶äº²ä¸­çš„ç§æœ‰å†…å®¹
class person
{
public:
	//å…¬å…±æƒé™
	string m_Name;//å§“å
protected:
	//ä¿æŠ¤æƒé™
	string m_Car;//æ±½è½¦
private:
	//ç§æœ‰æƒé™
	int m_Password;//é“¶è¡Œå¡å¯†ç 

public:
	void func()
	{
		m_Name = "å¼ ä¸‰";
		m_Car = "æ‹–æ‹‰æœº";
		m_Password = 123456;
	}
};

int main()
{
	//å®ä¾‹åŒ–å…·ä½“å¯¹è±¡
	person p1;
	p1.m_Name = "æå››";
	//p1.m_Car = "å¥”é©°";//ä¿æŠ¤æƒé™å†…å®¹ï¼Œåœ¨ç±»å¤–ä¸å¯ä»¥è®¿é—®
	//p1.m_Password = 123;//ç§æœ‰æƒé™å†…å®¹ï¼Œåœ¨ç±»å¤–ä¸å¯ä»¥è®¿é—®
	system("pause");
	return 0;
}
```



### structå’ŒclassåŒºåˆ«

åœ¨C++ä¸­structå’Œclasså”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºä»¬çš„è®¿é—®æƒé™ä¸åŒ

åŒºåˆ«ï¼š

* structé»˜è®¤æƒé™ä¸ºå…¬å…±
* classé»˜è®¤æƒé™ä¸ºç§æœ‰

```c++
#include <iostream>
#include <string>
using namespace std;

class c1
{
	int m_A;//é»˜è®¤æƒé™æ˜¯ç§æœ‰
};
struct C2
{
	int m_A;//é»˜è®¤æƒé™æ˜¯ å…¬å…±
};
int main()
{
	//struct å’Œclassçš„åŒºåˆ«
	//structé»˜è®¤æƒé™æ˜¯å…¬å…±public
	//classé»˜è®¤æƒé™æ˜¯ç§æœ‰çš„
	c1 C1;
	//C1.m_A = 100;//åœ¨classé‡Œé»˜è®¤æƒé™ä¸ºç§æœ‰ï¼Œå› æ­¤ç±»å¤–ä¸å¯ä»¥è®¿é—®
	C2 c2;
	c2.m_A = 100;//åœ¨structé»˜è®¤æƒé™ä¸ºå…¬å…±ã€å› æ­¤å¯ä»¥è®¿é—®
	system("pause");
	return 0;
}
```

### æˆå‘˜å±æ€§è®¾ç½®ä¸ºç§æœ‰

ä¼˜ç‚¹1ï¼šå°†æ‰€æœ‰æˆå‘˜å±æ€§è®¾ç½®ä¸ºç§æœ‰ï¼Œå¯ä»¥è‡ªå·±æ§åˆ¶è¯»å†™æƒé™

ä¼˜ç‚¹2ï¼šå¯¹äºå†™æƒé™ï¼Œå¯ä»¥æ£€æµ‹æ•°æ®çš„æœ‰æ•ˆæ€§

 ```c++
 #include <iostream>
 #include <string>
 using namespace std;
 
 //æˆå‘˜å±æ€§è®¾ç½®ä¸ºç§æœ‰
 //1ã€å¯ä»¥è‡ªå·±æ§åˆ¶è¯»å†™æƒé™
 //2ã€å¯¹äºå†™å¯ä»¥æ£€æµ‹æ•°æ®æœ‰æ•ˆæ€§
 class Person
 {
 public:
 	//è®¾ç½®å§“å
 	void setName(string name)
 	{
 		m_Name = name;
 	}
 	string getName()
 	{
 		return m_Name;
 	}
 	//è·å–å¹´é¾„
 	void setAge(int age)
 	{
 		if (age > 0 && age < 150)
 		{
 			m_Age = age;
 		}
 		else
 		{
 			m_Age = 0;
 		}
 	}
 	int getAge()
 	{
 		return m_Age;
 	}
 	//è®¾ç½®å¹´é¾„
 	
 	//è®¾ç½®å¶åƒ
 	void setIdol(string idol)
 	{
 		m_Idol = idol;
 	}
 private:
 	string m_Name;//å§“å å¯è¯»å¯å†™
 	int m_Age;//å¹´é¾„ åªè¯»  ä¹Ÿå¯ä»¥å†™ï¼ˆæ¡ä»¶ä¸º0-150ä¹‹é—´ï¼‰
 	string m_Idol;//å¶åƒ  åªå†™
 };
 int main()
 {
 	Person p;
 	//å§“åè®¾ç½®
 	p.setName("å¼ ä¸‰");
 	cout << "å§“åï¼š" << p.getName() << endl;
 	//å¹´é¾„è®¾ç½®
 	p.setAge(20);
 	//p.setAge = 20;
 	//è·å–å¹´é¾„
 	cout << "å¹´é¾„ï¼š" << p.getAge() << endl;
 	//å¶åƒè®¾ç½®
 	p.setIdol("æå››");//åªå†™ï¼Œå¤–ç•Œè®¿é—®ä¸åˆ°
 	//cout << "å¶åƒï¼š" << p.getIdol() << endl;
 	system("pause");
 	return 0;
 }
 ```

  

## å¯¹è±¡çš„åˆå§‹åŒ–æ¸…ç†

* ç”Ÿæ´»ä¸­ä¹°çš„ç”µå­äº§å“éƒ½åŸºæœ¬æœ‰å‡ºå‚è®¾ç½®ï¼Œåœ¨æŸä¸€å¤©ä¸ç”¨æ—¶å€™ä¹Ÿä¼šåˆ é™¤ä¸€äº›è‡ªå·±ä¿¡æ¯æ•°æ®ä¿è¯å®‰å…¨
* C++ä¸­çš„é¢å‘å…‘ç°æ¥æºäºç”Ÿæ´»ï¼Œæ¯ä¸ªå¯¹è±¡ä¹Ÿéƒ½ä¼šæœ‰åˆå§‹è®¾ç½®ä»¥åŠå¯¹è±¡é”€æ¯å‰çš„æ¸…ç†æ•°æ®çš„è®¾ç½®ã€‚

### æ„é€ å‡½æ•°å’Œææ„å‡½æ•°

å¯¹è±¡çš„**åˆå§‹åŒ–å’Œæ¸…ç†**ä¹Ÿæ˜¯ä¸¤ä¸ªéå¸¸é‡è¦çš„å®‰å…¨é—®é¢˜

â€‹	ä¸€ä¸ªå¯¹è±¡èƒ¡å“¦è¿™å˜é‡æ²¡æœ‰åˆå§‹çŠ¶æ€ï¼Œå¯¹å…¶ä½¿ç”¨åæœæ˜¯æœªçŸ¥

â€‹	åŒæ ·çš„ä½¿ç”¨å®Œä¸€ä¸ªå˜é‡æˆ–å¯¹è±¡ï¼Œæ²¡æœ‰åŠæ—¶æ¸…ç†ï¼Œä¹Ÿä¼šé€ æˆä¸€å®šçš„å®‰å…¨é—®é¢˜

C++åˆ©ç”¨äº†æ„é€ å‡½æ•°å’Œææ„å‡½æ•°è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°å°†ä¼šè¢«ç¼–è¯‘å™¨è‡ªåŠ¨è°ƒç”¨ï¼Œå®Œæˆå¯¹è±¡åˆå§‹åŒ–å’Œæ¸…ç†å·¥ä½œã€‚

å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†å·¥ä½œæ˜¯ç¼–è¯‘å™¨å¼ºåˆ¶è¦æˆ‘ä»¬åšçš„äº‹æƒ…ï¼Œå› æ­¤å¦‚æœä¸æä¾›æ„é€ å’Œææ„ï¼Œç¼–è¯‘å™¨ä¼šæä¾›ç¼–è¯‘å™¨æä¾›çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°æ˜¯ç©ºå®ç°ã€‚

* æ„é€ å‡½æ•°ï¼šä¸»è¦ä½œç”¨åœ¨äºåˆ›å»ºå¯¹è±¡æ—¶ä¸ºå¯¹è±¡çš„æˆå‘˜å±æ€§èµ‹å€¼ï¼Œæ„é€ å‡½æ•°æœ‰ç¼–è¯‘å™¨è‡ªåŠ¨è°ƒç”¨ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨
* ææ„å‡½æ•°ï¼šä¸»è¦ä½œç”¨äºå¯¹è±¡é”€æ¯å‰ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ï¼Œæ‰§è¡Œä¸€äº›æ¸…ç†å·¥ä½œã€‚



### æ„é€ å‡½æ•°è¯­æ³•ï¼š`ç±»å()`

1. æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼ä¹Ÿä¸å†™void
2. å‡½æ•°åç§°ä¸ç±»åç›¸åŒ
3. æ„é€ å‡½æ•°å¯ä»¥æœ‰å‚æ•°ï¼Œå› æ­¤å¯ä»¥å‘ç”Ÿé‡è½½
4. ç¨‹åºåœ¨è°ƒç”¨å¯¹è±¡æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨å¤Ÿæ—©ï¼Œæ— é¡»æ‰‹åŠ¨è°ƒç”¨ï¼Œè€Œä¸”åªä¼šè°ƒç”¨ä¸€æ¬¡

### ææ„å‡½æ•°è¯­æ³•ï¼š`~ç±»å(){}`

1. ææ„å‡½æ•°ï¼šæ²¡æœ‰è¿”å›å€¼ä¹Ÿä¸å†™void
2. å‡½æ•°åç§°ä¸ç±»åç›¸åŒï¼Œåœ¨åç§°å‰åŠ ä¸Šç¬¦å·~
3. ææ„å‡½æ•°ä¸å¯ä»¥æœ‰å‚æ•°ï¼Œå› æ­¤ä¸å¯ä»¥å‘ç”Ÿé‡è½½
4. ç¨‹åºåœ¨å¯¹è±¡é”€æ¯å‰ä¼šè‡ªåŠ¨è°ƒç”¨ææ„ï¼Œæ— é¡»æ‰‹åŠ¨è°ƒç”¨è€Œä¸”åªä¼šè°ƒç”¨ä¸€æ¬¡

```c++
#include <iostream>
#include <string>
using namespace std;

//å¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†
class Person
{
public:
	 //1.1 æ„é€ å‡½æ•°
	//æ²¡æœ‰è¿”å›å€¼ï¼Œä¸ç”¨å†™void
	//å‡½æ•°åä¸ç±»åç›¸åŒ
	//æ„é€ å‡½æ•°å¯ä»¥æœ‰å‚æ•°ï¼Œå¯ä»¥å‘ç”Ÿé‡è½½
	//å¯¹è±¡ä¸€å»ºç«‹ï¼Œæ„é€ å‡½æ•°å°±ä¼šè°ƒç”¨ï¼Œè€Œä¸”åªè°ƒç”¨ä¸€æ¬¡ 
	Person()
	{
		cout << "Personçš„æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}

	//1.2 ææ„å‡½æ•°,è¿›è¡Œæ¸…ç†æ“ä½œ
	//æ²¡æœ‰è¿”å›å€¼ï¼Œä¸ç”¨å†™void
	//å‡½æ•°åå’Œç±»åç›¸åŒï¼Œåœ¨åç§°å‰å‡~ç¬¦å·
	//ææ„å‡½æ•°ä¸å¯ä»¥æœ‰å‚æ•°ï¼Œä¸å¯ä»¥å‘ç”Ÿé‡è½½
	//å¯¹è±¡åœ¨é”€æ¯å‰ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°ï¼Œè€Œä¸”åªè°ƒç”¨ä¸€æ¬¡
	~Person()
	{
		cout << "Personçš„ææ„å‡½æ•°è°ƒç”¨" << endl;
	}
};
//æ„é€ å’Œææ„éƒ½æ˜¯å¿…é¡»æœ‰çš„å®ç°ï¼Œå¦‚æœæˆ‘ä»¬è‡ªå·±ä¸æä¾›ï¼Œç¼–è¯‘å™¨ä¼šæä¾›ä¸€ä¸ªç©ºå®ç°çš„æ„é€ å’Œææ„
void test01()
{
	Person p1;//åœ¨æ ˆä¸Šçš„æ•°æ®ï¼Œtest01æ‰§è¡Œå®Œæ¯•åï¼Œé‡Šæ”¾è¿™ä¸ªå¯¹è±¡
}

int main()
{
	test01();
	Person p; 
	system("pause");
	return 0;
}

```

### æ„é€ å‡½æ•°çš„åˆ†ç±»å’Œè°ƒç”¨ 

ä¸¤ç§åˆ†ç±»æ–¹å¼ï¼š

â€‹	æŒ‰å‚æ•°åˆ†ä¸ºï¼šæœ‰å‚æ„é€ å’Œæ— å‚æ„é€ 

â€‹	æŒ‰ç±»å‹åˆ†ä¸ºï¼šæ™®é€šæ„é€ å’Œæ‹·è´æ„é€ 

ä¸‰ç§è°ƒç”¨æ–¹å¼ï¼š

â€‹	æ‹¬å·æ³•

â€‹	æ˜¾ç¤ºæ³•

â€‹	éšå¼è½¬æ¢æ³•

```C++
#include <iostream>
#include <string>
using namespace std;

//1ã€æ„é€ å‡½æ•°çš„åˆ†ç±»å’Œè°ƒç”¨
//åˆ†ç±»
//	æŒ‰å‚æ•°åˆ†ç±»	æ— å‚æ„é€ (é»˜è®¤æ„é€ ï¼‰å’Œæœ‰å‚æ„é€ 
//	æŒ‰ç±»å‹åˆ†ç±»	æ™®é€šæ„é€  æ‹·è´æ„é€ 
class person
{
public:
	person()
	{
		cout << "Personçš„æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	person(int a)
	{
		age = a;
		cout << "Personçš„æœ‰å‚æ•°æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	//æ‹·è´æ„é€ å‡½æ•°
	person(const person &p)
	{
		//å°†ä¼ å…¥çš„äººèº«ä¸Šçš„æ‰€æœ‰å±æ€§ï¼Œæ‹·è´åˆ°æˆ‘èº«ä¸Š
		age = p.age;
		cout << "Personçš„æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	~person()
	{
		cout << "Personçš„ææ„å‡½æ•°è°ƒç”¨" << endl;
	}
	int age;
};
//è°ƒç”¨
void test01()
{
	//1ã€æ‹¬å·æ³•
	//person p;//è°ƒç”¨é»˜æ— å‚)æ„é€ å‡½æ•° 
	//person p1(10);//è°ƒç”¨æœ‰å‚æ„é€ å‡½æ•°
	//person p2(p1);//è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°
	//cout << "p2çš„å¹´é¾„ä¸ºï¼š" << p2.age << endl;

	//æ³¨æ„äº‹é¡¹
	// è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œä¸è¦åŠ ()
	// å› ä¸ºä¸‹é¢è¿™è¡Œä»£ç ä¼šè¢«ç¼–è¯‘å™¨è®¤ä¸ºæ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜ï¼Œä¸ä¼šè®¤ä¸ºåœ¨åˆ›å»ºå¯¹è±¡
	//person p4();
	
	//2ã€æ˜¾ç¤ºæ³•
	//person p1;
	//person p2 = person(10);//æœ‰å‚æ„é€ 
	//person p3 = person(p2);//æ‹·è´æ„é€ 
	//person(10);//åŒ¿åå¯¹è±¡  å½“å‰è¡Œæ‰§è¡Œç»“æŸåï¼Œç³»ç»Ÿä¼šç«‹å³å›æ”¶æ‰åŒ¿åå¯¹è±¡
	//æ³¨æ„äº‹é¡¹2ï¼š
	//ä¸è¦åˆ©ç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–åŒ¿åå¯¹è±¡ï¼Œç¼–è¯‘å™¨ä¼šè®¤ä¸ºperson (p3)ç­‰ä»·äºperson p3;å¯¹è±¡çš„å£°æ˜
	
	//3ã€éšå¼è½¬æ¢æ³•
	person p4 = 10;//ç›¸å½“äºperson p4 = person(10);
}
int main()
{
	test01();
	system("pause");
	return 0;
}

```



#### æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº

C++ä¸­æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœºé€šå¸¸æœ‰ä¸‰ç§æƒ…å†µ

* ä½¿ç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºå®Œæ¯•çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡
* å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°å‚æ•°ä¼ å€¼
* ä»¥å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡

```c++
#include <iostream>
#include <string>
using namespace std;

//æ‹·è´æ„é€ å‡½æ•°è°ƒç”¨æ—¶æœº
class Person
{
public:
	Person()
	{
		cout << "è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°" << endl;
	}
	Person(int age)
	{
		m_Age = age;
		cout << "è°ƒç”¨æœ‰å‚æ„é€ å‡½æ•°" << endl;
	};
	Person(const Person & p)
	{
		m_Age = p.m_Age;
		cout << "è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°" << endl;
	}
	~Person()
	{
		cout << "è°ƒç”¨ææ„å‡½æ•°" << endl;
	}
	int m_Age;
};

//1.ä½¿ç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºå®Œæ¯•çš„å¯¹è±¡æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡
//void test01()
//{
//	Person p1(20);
//	Person p2(p1);
//
//	cout << "p2çš„å¹´é¾„ä¸ºï¼š" << p2.m_Age << endl;
// }
//2.å€¼ä¼ é€’çš„æ–¹å¼ç»™å‡½æ•°ä¼ å‚
void doWork(Person p)
{

}
void test02()
{
	Person p;
	doWork(p);
 }
//3.å€¼æ–¹å¼è¿”å›å±€éƒ¨å¯¹è±¡

Person doWork2()//åº”è¯¥æ˜¯è°ƒç”¨åˆ°æ‹·è´æ„é€ å‡½æ•°çš„ï¼Œä½†æœ‰å¯èƒ½ç”±äºè¿”å›å€¼è¢«ä¼˜åŒ–äº†æ‰€ä»¥æ²¡æœ‰è°ƒç”¨åˆ°æ‹·è´æ„é€ å‡½æ•°
{
	Person p1;
	cout << (int*)&p1 << endl;
	return p1;
}
void test03()
{
	Person p = doWork2();
	cout << (int*)&p << endl;
}


int main()
{
	/*cout << "æ‰§è¡Œtest01" << endl;
	test01();*/
	cout << "æ‰§è¡Œtest02" << endl;
	test02();
	cout << "æ‰§è¡Œtest03" << endl;
	test03();
	system("pause");
	return 0;
}

```

### æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™

é»˜è®¤æƒ…å†µä¸‹ï¼ŒC++ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»å‹æ·»åŠ 3ä¸ªå‡½æ•°

1. é»˜è®¤æ„é€ å‡½æ•°(æ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©º)
2. é»˜è®¤ææ„å‡½æ•°(æ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©º)
3. é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´

æ„é€ å‡½æ•°è°ƒç”¨è§„åˆ™å¦‚ä¸‹ï¼š

* å¦‚æœç”¨æˆ·å®šä¹‰æœ‰å‚æ„é€ å‡½æ•°ï¼ŒC++ä¸åœ¨æä¾›é»˜è®¤æ— å‚æ„é€ ï¼Œä½†æ˜¯ä¼šæä¾›é»˜è®¤æ‹·è´æ„é€ 
* å¦‚æœç”¨æˆ·å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼ŒC++ä¸ä¼šå†æä¾›å…¶ä»–æ„é€ å‡½æ•°

```c++
#include <iostream>
#include <string>
using namespace std;

//æ„é€ å‡½æ•°çš„è°ƒç”¨è§„åˆ™
//1ã€åˆ›å»ºä¸€ä¸ªç±»ï¼ŒC++ç¼–è¯‘å™¨ä¼šç»™å‡ºæ¯ä¸ªç±»éƒ½æ·»åŠ è‡³å°‘ä¸‰ä¸ªæ•°
//é»˜è®¤æ„é€ (ç©ºå®ç°)
//ææ„å‡½æ•°(ç©ºå®ç°)
//æ‹·è´æ„é€ (å€¼æ‹·è´)
//2ã€å¦‚æœå†™äº†æœ‰å‚æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸å†æä¾›é»˜è®¤æ„é€ ï¼Œä¾ç„¶æä¾›æ‹·è´æ„é€ 
//	 å¦‚æœå†™äº†æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸å†æä¾›å…¶ä»–æ™®é€šæ„é€ å‡½æ•°äº†
class Person
{
public:
	Person()
	{
		cout << "Personçš„é»˜è®¤æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	Person(int age)
	{
		cout << "Personçš„æœ‰å‚æ„é€ å‡½æ•°è°ƒç”¨" << endl;
		m_Age = age;
	}
	Person(const Person &p)
	{
		cout << "Personçš„æ‹·è´é€ å‡½æ•°è°ƒç”¨" << endl;
		m_Age = p.m_Age;
	}
	~Person()
	{
		cout << "Personçš„é»˜è®¤æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	int m_Age;
};

//void test01()
//{
//	Person  p;
//	p.m_Age = 18;
//	Person p2(p);
//	cout << "p2çš„å¹´é¾„ä¸º:" << p2.m_Age << endl;
//}

void test02()
{
	Person p(28);
	Person p2(p);
	cout << "p2çš„å¹´é¾„ä¸ºï¼š" << p2.m_Age << endl;
}
int main()

{
	//test01();
	test02();
	system("pause");
	return 0;
}

```

#### æ·±æ‹·è´å’Œæµ…æ‹·è´

æ·±æµ…æ‹·è´æ˜¯é¢è¯•ç»å…¸é—®é¢˜ï¼Œä¹Ÿæ˜¯å¸¸è§çš„ä¸€ä¸ªå‘

æµ…æ‹·è´ï¼šç®€å•çš„å¤åˆ¶æ‹·è´æ“ä½œ

æ·±æ‹·è´ï¼šå†å †åŒºé‡æ–°ç”³è¯·å†…å­˜ç©ºé—´ï¼Œè¿›è¡Œæ‹·è´æ“ä½œ

```c++
#include <iostream>
#include <string>
using namespace std;

//æ·±æ‹·è´å’Œæµ…æ‹·è´

class Person
{
public:
	Person()
	{
		cout << "Personçš„é»˜è®¤æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	Person(int age ,int height)
	{
		cout << "Personçš„æœ‰å‚æ„é€ å‡½æ•°è°ƒç”¨" << endl;
		m_Age = age;
		m_Height=new int(height);
	}
	Person(const Person &p)
	{
		cout << "Personçš„æ‹·è´é€ å‡½æ•°è°ƒç”¨" << endl;
		m_Age = p.m_Age;
		//m_Height = p.m_Height;//ç¼–è¯‘å™¨é»˜è®¤å®ç°çš„å°±æ˜¯è¿™è¡Œä»£ç 
		//æ·±æ‹·è´æ“ä½œ
		m_Height = new int(*p.m_Height);
	}
	~Person()
	{
		//ææ„ä»£ç ï¼Œå°†å †åŒºå¼€è¾Ÿæ•°æ®åšé‡Šæ”¾æ“ä½œï¼Œä½†æ˜¯ç”±äºp2æ˜¯é€šè¿‡æ‹·è´å‡½æ•°è¿‡æ¥çš„å€¼ï¼Œä¹Ÿåªæƒ³äº†åŒä¸€å—å †åŒºæ‰€æŒ‡å‘çš„å†…å­˜ï¼Œå› æ­¤ï¼Œæµ…æ‹·è´å¸¦æ¥çš„é—®é¢˜å°±æ˜¯å †åŒºçš„å†…å­˜é‡å¤é‡Šæ”¾
		if (m_Height != NULL)
		{
			delete m_Height;
			m_Height = NULL;
		}
		cout << "Personçš„ææ„æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	int m_Age;//å¹´é¾„
	int* m_Height; //èº«é«˜
};

void test01()
{
	Person  p1(18,183); 
	cout << "p1çš„å¹´é¾„ä¸º:" << p1.m_Age <<"p1çš„èº«é«˜ä¸ºï¼š"<<*p1.m_Height << endl;
	Person p2(p1);
	cout <<"p2çš„å¹´é¾„ä¸º:" << p2.m_Age << "p2çš„èº«é«˜ä¸ºï¼š" <<* p2.m_Height << endl;
}

int main()

{
	test01();
	system("pause");
	return 0;
}

```

### åˆå§‹åŒ–åˆ—è¡¨

ä½œç”¨ï¼š

C++æä¾›äº†åˆå§‹åŒ–åˆ—è¡¨è¯­æ³•ï¼Œç”¨æ¥åˆå§‹åŒ–å±æ€§

è¯­æ³•ï¼šæ„é€ å‡½æ•°()ï¼šå±æ€§1ï¼ˆå€¼1ï¼‰ï¼Œå±æ€§2ï¼ˆå€¼2ï¼‰â€¦{ }

```c++
#include <iostream>
#include <string>
using namespace std;

//åˆå§‹åŒ–åˆ—è¡¨
class Person
{
public:
	//ä¼ ç»Ÿåˆå§‹åŒ–æ“ä½œ
	//Person(int a ,int b,int c)
	//{
	//	m_A = a;
	//	m_B = b;
	//	m_C = c;
	//}
	//åˆå§‹åŒ–åˆ—è¡¨æ–¹å¼åˆå§‹åŒ–
	Person(int a,int b,int c): m_A(a), m_B(b), m_C(c)
	{

	}
	~Person()
	{
		cout << "Personçš„ææ„æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	int m_A;
	int m_B;
	int m_C;
};
void test01()
{
	Person  p(30,20,10);
	cout << "m_A=" << p.m_A << endl;
	cout << "m_B=" << p.m_B << endl;
	cout << "m_C=" << p.m_C << endl;
}
int main()
{
	test01();
	system("pause");
	return 0;
}

```

### ç±»é˜Ÿå½¢ä½œä¸ºç±»æˆå‘˜

C++ç±»ä¸­çš„æˆå‘˜å¯ä»¥æ˜¯å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œæˆ‘ä»¬ç§°è¯¥æˆå‘˜ä¸ºå¯¹è±¡æˆå‘˜

ä¾‹å¦‚ï¼š

```c++
class A {}
class B
{
	A a;
}
```

Bç±»ä¸­æœ‰å¯¹è±¡Aä½œä¸ºæˆå‘˜ï¼ŒAä¸ºå¯¹è±¡æˆå‘˜

é‚£ä¹ˆå½“åˆ›å»ºBå¯¹è±¡æ—¶ï¼ŒAä¸Bçš„æ„é€ å’Œææ„çš„é¡ºåºæ—¶è°å…ˆè°åï¼Ÿ

```c++
#include <iostream>
#include <string>
using namespace std;
//ç±»å¯¹è±¡ä½œä¸ºç±»æˆå‘˜
//æ‰‹æœºç±»
class Phone
{
public:
	Phone(string pName)
	{
		m_PName = pName;
		cout << "Phoneçš„æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	~Phone()
	{
		cout << "Phoneçš„ææ„å‡½æ•°" << endl;
	}
	//æ‰‹æœºå“ç‰Œåç§°
	string m_PName;
};
//äººç±»
class Person
{
public:
	//Phone m_Phone=pName éšå¼è½¬æ¢æ³•
	Person(string name, string pName):m_Name(name),m_Phone(pName)
	{
		cout << "Personçš„æ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	
	//å§“å
	string m_Name;
	//æ‰‹æœº
	Phone m_Phone;
};
//å½“å…¶ä»–ç±»å¯¹è±¡ä½œä¸ºæœ¬ç±»æˆå‘˜ï¼Œæ„é€ æ—¶å€™å…ˆæ„é€ å¯¹è±¡ï¼Œå†æ„é€ è‡ªèº«ï¼Œææ„çš„é¡ºåºä¸æ„é€ ç›¸å
void test01()
{
	Person  p("å¼ ä¸‰","è‹¹æœMAX");
	cout << p.m_Name << "æ‹¿ç€ï¼š" << p.m_Phone.m_PName << endl;
}
int main()
{
	test01();
	system("pause");
	return 0;
}

```

### é™æ€æˆå‘˜

é™æ€æˆå‘˜å°±æ˜¯åœ¨æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°å‰åŠ ä¸Šå…³é”®å­—staticï¼Œç§°ä¸ºé™æ€æˆå‘˜

é™æ€æˆå‘˜ä¸ºï¼š

* é™æ€æˆå‘˜å˜é‡
    * æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä»½æ•°æ®
    * åœ¨ç¼–è¯‘é˜¶æ®µåˆ†é…å†…å­˜
    * ç±»å†…å£°æ˜ï¼Œç±»å¤–åˆå§‹åŒ–

```c++
#include <iostream>
#include <string>
using namespace std;
//é™æ€æˆå‘˜å˜é‡
class Person
{
public:
	//1ã€æ‰€æœ‰å¯¹è±¡éƒ½å…±äº«åŒä¸€ä»½æ•°æ®
	//2ã€ç¼–è¯‘é˜¶æ®µå°±åˆ†é…å†…å­˜
	//3ã€ç±»å†…è¿›è¡Œå£°æ˜ï¼Œç±»å¤–åˆå§‹åŒ–æ“ä½œ
	static int m_A;
	//é™æ€æˆå‘˜å˜é‡ä¹Ÿæ˜¯æœ‰è®¿é—®æƒé™çš„,ç§æœ‰æƒé™ç±»å¤–æ˜¯è®¿é—®ä¸åˆ°çš„
private:
	static int m_B;
};
int Person::m_A = 100;
int Person::m_B = 200;
void test01()
{
	Person p; 
	cout << p.m_A << endl; 
	Person p2;
	p.m_A = 200;
	cout << p.m_A << endl; 
}
void test02()
{
	//é™æ€æˆå‘˜å˜é‡ï¼Œä¸å±äºæŸä¸ªå¯¹è±¡ä¸Šï¼Œæ‰€æœ‰å¯¹è±¡éƒ½å…±äº«åŒä¸€ä»½æ•°æ®
	//å› æ­¤é™æ€æˆå‘˜å˜é‡æœ‰ä¸¤ç§è®¿é—®æ–¹å¼
	//1ã€é€šè¿‡å¯¹è±¡è¿›è¡Œè®¿é—® 
	Person p;
	cout << p.m_A << endl;
	//2ã€é€šè¿‡ç±»åè¿›è¡Œè®¿é—®
	cout << Person::m_A << endl;
	//cout << Person::m_B << endl;
}
int main()
{
	//test01();
	test02();
	system("pause");
	return 0;
}

```

*  é™æ€æˆå‘˜å‡½æ•°
    * æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä¸ªå‡½æ•°
    * é™æ€æˆå‘˜åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡

```c++
#include <iostream>
#include <string>
using namespace std;
//é™æ€æˆå‘˜å‡½æ•°
//æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä¸ªå‡½æ•°
//é™æ€æˆå‘˜åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡
class Person
{
public:
	//é™æ€æˆå‘˜å‡½æ•°
	static void func()
	{
		m_A = 100;//é™æ€æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®é™æ€æˆå‘˜å˜é‡
		//m_B = 200;//é™æ€æˆå‘˜å‡½æ•°ä¸å¯ä»¥è®¿é—®éé™æ€æˆå‘˜å˜é‡ï¼Œæ— æ³•åŒºåˆ†åˆ°åº•æ˜¯é‚£ä¸ªå¯¹è±¡çš„m_Bå±æ€§
		cout << "static void funcè°ƒç”¨" << endl; 
	}
	static int m_A;
	int m_B;
private:
	static void func2()
	{
		cout << "static void func2è°ƒç”¨" << endl;
	}
};
int Person::m_A;
void test01()
{
	//é€šè¿‡å¯¹è±¡è®¿é—®
	Person p; 
	p.func(); 
	//é€šè¿‡ç±»åè®¿é—®
	Person::func();
	//Person::func2();//ç±»å¤–è®¿é—®ä¸åˆ°ç§æœ‰é™æ€æˆå‘˜å‡½æ•°
}
int main()
{
	test01();
	system("pause");
	return 0;
}

```

## C++å¯¹è±¡æ¨¡å‹å’ŒthisæŒ‡é’ˆ

### æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°åˆ†å¼€å­˜å‚¨

åœ¨C++ä¸­ï¼Œç±»å†…çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°åˆ†å¼€å­˜å‚¨

åªæœ‰éé™æ€æˆå‘˜å˜é‡æ‰å±äºç±»çš„å¯¹è±¡ä¸Š 

```c++
#include <iostream>
#include <string>
using namespace std;
//æˆå‘˜å˜é‡ å’Œ æˆå‘˜å‡½æ•° åˆ†å¼€å­˜å‚¨çš„
class Person
{
	int m_A;//éé™æ€æˆå‘˜å˜é‡ å±äºç±»çš„å¯¹è±¡ä¸Š
	static int m_B;//é™æ€æˆå‘˜å˜é‡ ä¸å±äºç±»çš„å¯¹è±¡ä¸Š
	void func() {} //éé™æ€æˆå‘˜å‡½æ•° ä¸å±äºç±»çš„å¯¹è±¡ä¸Š
	static void func2(){}//é™æ€æˆå‘˜å‡½æ•° ä¸å±äºç±»çš„å¯¹è±¡ä¸Š
};
int Person::m_B=0;
void test01()
{
	Person p;
	//ç©ºå¯¹è±¡å ç”¨å†…å­˜ç©ºé—´ä¸ºï¼š 1å­—èŠ‚
	//C++ç¼–è¯‘å™¨ä¼šç»™æ¯ä¸ªç©ºå¯¹è±¡ä¹Ÿåˆ†é…ä¸€ä¸ªå­—èŠ‚ç©ºé—´ï¼Œæ˜¯ä¸ºäº†åŒºåˆ†ç©ºå¯¹è±¡å å†…å­˜çš„ä½ç½®
	//æ¯ä¸ªç©ºå¯¹è±¡ä¹Ÿåº”è¯¥æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å†…å­˜åœ°å€
	cout << "size of p= " <<sizeof(p)<< endl;
}

void test02()
{
	Person p;
	cout << "size of p=" << sizeof(p) << endl;
}

int main()
{
	test01();
	test02();
	system("pause");
	return 0;  
}
```

### thisæŒ‡é’ˆ

é€šè¿‡ä¸Šä¸€èŠ‚æˆå‘˜å˜é‡çŸ¥é“äº†åœ¨C++ä¸­æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°æ˜¯åˆ†å¼€å­˜å‚¨çš„

æ¯ä¸ªéé™æ€æˆå‘˜å‡½æ•°åªä¼šè¯ç”Ÿä¸€ä»½å‡½æ•°å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´å¤šä¸ªåŒç±»å‹çš„å¯¹è±¡ä¼šå…±ç”¨ä¸€å—ä»£ç 

é‚£ä¹ˆé—®é¢˜æ˜¯ï¼šè¿™ä¸€å—ä»£ç æ˜¯å¦‚ä½•åŒºåˆ†é‚£ä¸ªå…‘ç°è°ƒç”¨è‡ªå·±ï¼Ÿ

C++é€šè¿‡æä¾›ç‰¹æ®Šçš„å¯¹è±¡æŒ‡é’ˆï¼ŒthisæŒ‡é’ˆï¼Œè§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒthisæŒ‡é’ˆæŒ‡å‘è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡

thisæŒ‡é’ˆæ˜¯éšå«æ¯ä¸€ä¸ªéé™æ€æˆå‘˜å‡½æ•°å†…çš„ä¸€ç§æŒ‡é’ˆ

thisæŒ‡é’ˆä¸éœ€è¦å®šä¹‰ï¼Œç›´æ¥ä½¿ç”¨å³å¯

thisæŒ‡é’ˆçš„ç”¨é€”ï¼š

* å½“å½¢å‚å’Œæˆå‘˜å˜é‡åŒåæ—¶ï¼Œå¯ç”¨thisæŒ‡é’ˆæ¥åŒºåˆ†
* åœ¨ç±»çš„éé™æ€æˆå‘˜å‡½æ•°ä¸­è¿”å›å¯¹è±¡æœ¬èº«ï¼Œå¯ç”¨return \*this

 ```c++
 #include <iostream>
 #include <string>
 using namespace std;
 class Person
 {
 public:
 	Person(int age)
 	{
 		//thisæŒ‡é’ˆæŒ‡å‘ æƒ³è¢«è°ƒç”¨çš„æˆå‘˜å‡½æ•°æ‰€å±å¯¹è±¡
 		this->age = age;
 	}
 	Person& PersonAddAge(Person& p)
 	{
 		this->age += p.age;
 
 		//thisæŒ‡å‘p2çš„æŒ‡é’ˆï¼Œè€Œ*thisæŒ‡å‘çš„å°±æ˜¯p2è¿™ä¸ªå¯¹è±¡æœ¬ä½“
 		return *this;
 	}
 	int age;
 };
 //1ã€è§£å†³åç§°å†²çª
 void test01()
 {
 	Person p1(18);
 	cout << "p1çš„å¹´é¾„= " <<p1.age<< endl;
 }
 //2ã€è¿”å›å¯¹è±¡æœ¬èº«ç”¨*this
 void test02()
 {
 	Person p1(10);
 	Person p2(10);
 	//é“¾å¼ç¼–ç¨‹æ€æƒ³
 	p2.PersonAddAge(p1).PersonAddAge(p1).PersonAddAge(p1);
 	cout << "p2çš„å¹´é¾„ä¸ºï¼š=" << p2.age << endl;
 }
 int main()
 {
 	test01();
 	//test02();
 	system("pause");
 	return 0;  
 }
 ```

### ç©ºæŒ‡é’ˆè®¿é—®æˆå‘˜å‡½æ•°

C++ä¸­ç©ºæŒ‡é’ˆä¹Ÿæ˜¯å¯ä»¥è°ƒç”¨æˆå‘˜å‡½æ•°çš„ï¼Œä½†æ˜¯ä¹Ÿè¦æ³¨æ„æœ‰æ²¡æœ‰ç”¨åˆ°thisæŒ‡é’ˆ

å¦‚æœç”¨åˆ°thisæŒ‡é’ˆï¼Œéœ€è¦åŠ ä»¥åˆ¤æ–­ä¿è¯ä»£ç çš„å¥å£®æ€§

```c++
#include <iostream>
#include <string>
using namespace std;
//ç©ºæŒ‡é’ˆè°ƒç”¨æˆå‘˜å‡½æ•°
class Person
{
public:
	void showClassName()
	{
		cout << "this is Person class" << endl;
	}
	void showPersonAge()
	{
		//è§£å†³æŠ¥é”™å¼‚å¸¸é”™è¯¯æ–¹æ¡ˆ
		if (this == NULL)
			return;
		//æŠ¥é”™åŸå› æ˜¯å› ä¸ºä¼ å…¥çš„æŒ‡é’ˆæ˜¯ä¸ºNULLï¼Œç›¸å½“äºthis->m_Age
		cout << "è¿™ä¸ªäººçš„å¹´é¾„ä¸ºï¼š" << m_Age << endl;
	}
	int m_Age;	
};

void test01()
{
	Person * p = NULL;
	p->showClassName();
	p->showPersonAge();
}

int main()
{
	test01();
	system("pause");
	return 0;  
}
```

### const ä¿®é¥°æˆå‘˜å‡½æ•°

å¸¸å«æ•°ï¼š

* æˆå‘˜å‡½æ•°ååŠ conståæˆ‘ä»¬ç§°è¿™ä¸ªå‡½æ•°ä¸ºå¸¸å‡½æ•°
* å¸¸å‡½æ•°å†…ä¸å¯ä»¥ä¿®æ”¹æˆå‘˜å±æ€§
* æˆå‘˜å±æ€§å£°æ˜æ—¶åŠ å…³é”®å­—mutableåï¼Œåœ¨å¸¸å«æ•°ä¸­ä¾ç„¶å¯ä»¥ä¿®æ”¹

```c++
#include <iostream>
#include <string>
using namespace std;
//å¸¸å‡½æ•°
class Person
{
public:

	//thisæŒ‡é’ˆçš„æœ¬è´¨ æ˜¯æŒ‡é’ˆå¸¸é‡	æŒ‡é’ˆçš„æŒ‡å‘æ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„
	//const Person * const this ;
	//åœ¨æˆå‘˜å‡½æ•°åé¢åŠ constï¼Œä¿®é¥°çš„æ˜¯thisæŒ‡å‘ï¼Œè®©æŒ‡é’ˆæŒ‡å‘çš„å€¼ä¹Ÿä¸å¯ä»¥ä¿®æ”¹ï¼Œç›¸å½“äºæ˜¯åœ¨æˆå‘˜å‡½æ•°å‰é¢å®¶çš„const
	void showPerson() const
	{
		this->m_B = 100;
		//this->m_A = 100;
		//this = NULL;//thisæŒ‡é’ˆä¸å¯ä»¥ä¿®æ”¹æŒ‡é’ˆçš„æŒ‡å‘
	}
	int m_A;
	mutable int m_B;//ç‰¹æ®Šå˜é‡ï¼Œå³ä½¿åœ¨å¸¸å‡½æ•°ä¸­ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹è¿™ä¸ªå€¼ï¼ŒåŠ å…³é”®å­—mutable
};
void test01()
{
	Person p;
	p.showPerson();
}
int main()
{
	test01();
	system("pause");
	return 0;  
}
```

å¸¸å¯¹è±¡ï¼š

* å£°æ˜å¯¹è±¡å‰åŠ constç§°è¯¥å¯¹è±¡ä¸ºå¸¸å¯¹è±¡
* å¸¸å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸å‡½æ•°

```c++
#include <iostream>
#include <string>
using namespace std;
//å¸¸å‡½æ•°
class Person
{
public:

	//thisæŒ‡é’ˆçš„æœ¬è´¨ æ˜¯æŒ‡é’ˆå¸¸é‡	æŒ‡é’ˆçš„æŒ‡å‘æ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„
	//const Person * const this ;
	//åœ¨æˆå‘˜å‡½æ•°åé¢åŠ constï¼Œä¿®é¥°çš„æ˜¯thisæŒ‡å‘ï¼Œè®©æŒ‡é’ˆæŒ‡å‘çš„å€¼ä¹Ÿä¸å¯ä»¥ä¿®æ”¹ï¼Œç›¸å½“äºæ˜¯åœ¨æˆå‘˜å‡½æ•°å‰é¢å®¶çš„const
	void showPerson() const
	{
		this->m_B = 100;
		//this->m_A = 100;
		//this = NULL;//thisæŒ‡é’ˆä¸å¯ä»¥ä¿®æ”¹æŒ‡é’ˆçš„æŒ‡å‘
	}
	void func(){}
	int m_A;
	mutable int m_B;//ç‰¹æ®Šå˜é‡ï¼Œå³ä½¿åœ¨å¸¸å‡½æ•°ä¸­ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹è¿™ä¸ªå€¼ï¼ŒåŠ å…³é”®å­—mutable
	void func(){}
};


void test01()
{
	Person p;
	p.showPerson();
}

void test02()
{
	const Person p;//åœ¨å¯¹è±¡å‰åŠ const,å˜ä¸ºå¸¸å¯¹è±¡
	//p.m_A = 100; 
	p.m_B = 100;//m_Bæ˜¯ç‰¹æ®Šå€¼ï¼Œåœ¨å¸¸å¯¹è±¡ä¸‹ä¹Ÿå¯ä»¥ä¿®æ”¹
	//å¸¸å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸å‡½æ•°
	p.showPerson();
	//p.func();//å¸¸å¯¹è±¡ ä¸å¯ä»¥è°ƒç”¨æ™®é€šæˆå‘˜å‡½æ•°ï¼Œå› ä¸ºæ™®é€šæˆå‘˜å‡½æ•°å¯ä»¥ä¿®æ”¹å±æ€§
}
int main()
{
	test01();
	system("pause");
	return 0;
}
```



## å‹å…ƒ

ç”Ÿæ´»ä¸­å®¶é‡Œæœ‰å®¢å…ï¼ˆpublic)ï¼Œæœ‰å§å®¤(private)

å®¢å…æ‰€æœ‰å®¢äººéƒ½å¯ä»¥è¿›å»ï¼Œä½†æ˜¯å§å®¤æ˜¯ç§æœ‰çš„ï¼Œåªæœ‰è‡ªå·±èƒ½è¿›

ä½†æ˜¯ï¼Œä¹Ÿå¯ä»¥å…è®¸æœ‹å‹å…„å¼Ÿè¿›å»ã€‚

åœ¨ç¨‹åºé‡Œï¼Œæœ‰äº›ç§æœ‰å±æ€§ä¹Ÿæƒ³è®©ç±»å¤–ç‰¹æ®Šçš„ä¸€äº›å‡½æ•°æˆ–è€…ç±»è¿›è¡Œè®¿é—®ï¼Œå°±éœ€è¦ç”¨åˆ°å‹å…ƒçš„æŠ€æœ¯

å‹å…ƒçš„ç›®çš„å°±æ˜¯è®©ä¸€ä¸ªå‡½æ•°æˆ–è€…ç±»è®¿é—®å¦ä¸€ä¸ªç±»ä¸­ç§æœ‰æˆå‘˜

å‹å…ƒçš„å…³é”®å­—ä¸º <font color='yellow'>friend</font>

å‹å…ƒçš„ä¸‰ç§å®ç°

* å…¨å±€å‡½æ•°åšå‹å…ƒ

```c++
#include <iostream>
#include <string>
using namespace std;

//å»ºç­‘ç‰©ç±»	
class Building
{
	//goodfriendå…¨å±€å‡½æ•°æ˜¯Buildingå¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®Buildingä¸­ç§æœ‰æˆå‘˜
	friend void goodfriend(Building* building);

public:
	Building()
	{
		m_SittingRoom = "å®¢å…";
		m_BedRoom = "å§å®¤";
	}
public:
	string m_SittingRoom;//å®¢å…
private:
	string m_BedRoom;//å§å®¤
};

//å…¨å±€å‡½æ•°
void goodfriend(Building *building)
{
	cout << "å¥½åŸºå‹å…¨å±€å‡½æ•° æ­£åœ¨è®¿é—®ï¼›" << building->m_SittingRoom << endl;
	cout << "å¥½åŸºå‹å…¨å±€å‡½æ•° æ­£åœ¨è®¿é—®ï¼›" << building->m_BedRoom << endl;

}

void test02()
{
	Building building;
	goodfriend(&building);
} 
int main()
{
	test02();
	system("pause");
	return 0;
}
```

* ç±»åšå‹å…ƒ

```c++
#include <iostream>
#include <string>
using namespace std;

//ç±»åšå‹å…ƒ	
class Building;
class goodfriend
{
public:
	goodfriend();
	void visit();//å‚è§‚å‡½æ•°	è®¿é—®Buildingä¸­çš„å±æ€§
	Building * building;
};

class Building
{
	//goodfriendç±»æ˜¯æœ¬ç±»çš„å¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®æœ¬ç±»çš„ç§æœ‰æˆå‘˜
	friend class goodfriend;
public:
	Building();
public:
	string m_SittingRoom;//å®¢å…
private:
	string m_BedRoom;//å§å®¤	
};

//ç±»å¤–å†™æˆå‘˜å‡½æ•°
Building::Building()
{
	m_SittingRoom = "å®¢å…";
	m_BedRoom = "å®¢å…";
}

goodfriend::goodfriend()
{
	//åˆ›å»ºå»ºç­‘ç‰©å¯¹è±¡
	building = new Building;
}

void goodfriend::visit()
{
	cout << "å¥½åŸºå‹æ­£åœ¨è®¿é—®:" << building->m_SittingRoom<<endl;
	cout << "å¥½åŸºå‹æ­£åœ¨è®¿é—®:" << building->m_BedRoom << endl;

}

void test01()
{
	goodfriend gg;
	gg.visit();
} 
int main()
{
	test01();
	system("pause");
	return 0;
}
```

* æˆå‘˜å‡½æ•°åšå‹å…ƒ

```c++
#include <iostream>
#include <string>
using namespace std;
class Building;
class goodfriend
{
public:
	goodfriend();
	void visit();//è®©visitå‡½æ•°å¯ä»¥è®¿é—®Buildingä¸­çš„ç§æœ‰æˆå‘˜
	void visit2();//visitå‡½æ•°ä¸å¯ä»¥è®¿é—®Buildingä¸­çš„ç§æœ‰æˆå‘˜
	Building * building;
};
class Building
{
	friend void goodfriend::visit();//å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œgoodfriendlç±»ä¸‹çš„visitæˆå‘˜å‡½æ•°ä½œä¸ºæœ¬ç±»çš„å¥½æœ‹å‹ï¼Œå¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜
public:
	Building();//å£°æ˜
	string m_SittingRoom;//å®¢å…
private:
	string m_BedRoom;//å§å®¤
};
//ç±»å¤–å®ç°æˆå‘˜å‡½æ•°
goodfriend::goodfriend()
{
	building = new Building;
}
Building::Building()
{
	m_SittingRoom = "å®¢å…";
	m_BedRoom = "å§å®¤";
}
void goodfriend::visit()
{
	cout << "visitæ­£åœ¨è®¿é—®" << building->m_SittingRoom << endl;
	cout << "visitæ­£åœ¨è®¿é—®" << building->m_BedRoom << endl;
}
void goodfriend::visit2()
{
	cout << "visit2æ­£åœ¨è®¿é—®" << building->m_SittingRoom << endl;
	//cout << "visit2æ­£åœ¨è®¿é—®" << building->m_BedRoom << endl;
}
void test01()
{
	goodfriend gg;
	gg.visit(); 
	gg.visit2();
} 
int main()
{
	test01();
	system("pause");
	return 0;
} 
```

## è¿ç®—ç¬¦é‡è½½

è¿ç®—ç¬¦é‡è½½æ¦‚å¿µï¼šå¯¹å·²æœ‰çš„è¿ç®—ç¬¦é‡æ–°è¿›è¡Œå®šä¹‰ï¼Œèµ‹äºˆå…¶å¦ä¸€ç§åŠŸèƒ½ï¼Œä»¥é€‚åº”ä¸åŒé¢æ•°æ®ç±»å‹

### åŠ å·è¿ç®—ç¬¦é‡è½½

ä½œç”¨ï¼šå®ç°ä¸¤ä¸ªè‡ªå®šä¹‰æ•°æ®ç±»å‹ç›¸åŠ çš„è¿ç®—

```c++
#include <iostream>
#include <string>
using namespace std;
//åŠ å·è¿ç®—ç¬¦é‡è½½
class Person
{
public:
	//1ã€æˆå‘˜å‡½æ•°é‡è½½+å·
	/*Person operator+(Person& p)
	{
		Person temp;
		temp.m_A = this->m_A + p.m_A;
		temp.m_B = this->m_B + p.m_B;
		return temp;
	}*/
	int m_A;
	int m_B;
};
//2ã€å…¨å±€å‡½æ•°é‡è½½+å·
Person operator+(Person& p1, Person& p2)
{
	Person temp;
	temp.m_A =p1.m_A + p2.m_A;
	temp.m_B = p1.m_B + p2.m_B;
	return temp;
}
//å‡½æ•°é‡è½½çš„ç‰ˆæœ¬
Person operator+(Person& p1, int num)
{
	Person temp;
	temp.m_A = p1.m_A + num;
	temp.m_B = p1.m_B + num;
	return temp;
}
void test01()
{
	Person p1;
	p1.m_A = 10;
	p1.m_B = 10;
	Person p2;
	p2.m_A = 10;
	p2.m_B = 10;
	//æˆå‘˜å‡½æ•°é‡è½½æœ¬è´¨è°ƒç”¨
	//Person p3=p1.operator+(p2);
	//å…¨å±€å‡½æ•°çš„æœ¬è´¨è°ƒç”¨
	Person p3 = operator+(p1, p2);
	//è¿™æ˜¯æˆå‘˜å‡½æ•°å’Œå…¨å±€å‡½æ•°éƒ½ä¸€æ ·å½¢å¼çš„ç®€åŒ–ç‰ˆæœ¬
	Person p3 = p1 + p2;
	//è¿ç®—ç¬¦é‡è½½ä¹Ÿå¯ä»¥å‘ç”Ÿå‡½æ•°é‡è½½
	Person p3 = p1 + 19;//person+int
	cout << "p3.m_A=" << p3.m_A << endl;
	cout << "p3.m_B=" << p3.m_B << endl;
}
int main()
{
	test01();
	system("pause");
	return 0;
} 
```

> æ€»ç»“1ï¼šå¯¹äºå†…ç½®çš„æ•°æ®ç±»å‹çš„è¡¨è¾¾å¼çš„è¿ç®—ç¬¦æ˜¯ä¸å¯èƒ½æ”¹å˜çš„ã€‚
>
> æ€»ç»“2ï¼šä¸è¦æ»¥ç”¨è¿ç®—ç¬¦é‡è½½

### å·¦ç§»è¿ç®—ç¬¦é‡è½½

ä½œç”¨ï¼šå¯ä»¥è¾“å‡ºè‡ªå®šä¹‰æ•°æ®ç±»å‹

```c++
#include <iostream>
#include <string>
using namespace std;
//åŠ å·è¿ç®—ç¬¦é‡è½½
class Person
{
	friend ostream& operator<<(ostream& out, Person& p);
public:
	Person(int a, int b)
	{
		m_A = a;
		m_B = b;
	}
private:
	//åˆ©ç”¨æˆå‘˜å‡½æ•°é‡è½½ å·¦ç§»è¿ç®—ç¬¦	p.operator<<(cout)	ç®€åŒ–ç‰ˆæœ¬ p << cout
	//é€šå¸¸ä¸ä¼šåˆ©ç”¨æˆå‘˜é‡è½½<<è¿ç®—ç¬¦ï¼Œä¸€ä½å†…æ— æ³•å®ç° coutåœ¨å·¦ä¾§
	/*void operator<<(Person &p)
	{
	}*/
	int m_A;
	int m_B;
};
//åªèƒ½åˆ©ç”¨å…¨å±€å‡½æ•°é‡è½½å·¦ç§»è¿ç®—ç¬¦
ostream &operator<<(ostream& out, Person& p)//æœ¬è´¨ operator<< (cout ,p) ç®€åŒ– cout<<p
{
	out << "m_A=" << p.m_A << " m_B=" << p.m_B;
	//å¼•ç”¨çš„æœ¬è´¨æ˜¯èµ·åˆ«åï¼Œå› ä¸ºå‡½æ•°å½¢å‚ä¸­çš„outæ˜¯ä¸€ä¸ªæ ‡å‡†è¾“å‡ºæµçš„å¼•ç”¨æ‰€ä»¥coutå’Œoutæ²¡åŒºåˆ«
	return cout;
}
void test01()
{
	Person p(10,10);
	cout << p<<"   hello world"<<endl;
}
int main()
{
	test01();
	system("pause");
	return 0;
} 
```

> æ€»ç»“ï¼šé‡è½½å·¦ç§»è¿ç®—ç¬¦é…åˆå‹å…ƒå¯ä»¥å®ç°è¾“å‡ºè‡ªå®šä¹‰æ•°æ®ç±»å‹

### é€’å¢è¿ç®—ç¬¦é‡è½½

ä½œç”¨ï¼šé€šè¿‡é‡è½½é€’å¢è¿ç®—ç¬¦ï¼Œå®ç°è‡ªå·±çš„æ•´å½¢æ•°æ®

```` c++
#include <iostream>
#include <string>
using namespace std;
//é‡è½½é€’å¢è¿ç®—ç¬¦
//è‡ªå®šä¹‰æ•´å‹
class myInteger
{
	friend ostream& operator<<(ostream& cout, myInteger mint);
public:
	myInteger()
	{
		m_Num = 0;
	}

	//é‡è½½å‰ç½®++è¿ç®—ç¬¦ è¿”å›å¼•ç”¨æ˜¯ä¸ºäº†ä¸€ç›´å¯¹ä¸€ä¸ªæ•°æ®è¿›è¡Œé€’å¢æ“ä½œ
	myInteger& operator++()
	{
		//å…ˆè¿›è¡Œ++è¿ç®—
		m_Num++;
		//å†å°†è‡ªèº«åšè¿”å›
		return *this;
	}
	//é‡è½½åç½®++è¿ç®—ç¬¦
	//void operator++(int) intä»£è¡¨å ä½å‚æ•°ï¼Œå¯ä»¥ç”¨äºåŒºåˆ†å‰ç½®å’Œåç½®é€’å¢
	myInteger operator++(int)
	{
		//å…ˆ è®°å½•å½“æ—¶ç»“æœ
		myInteger temp = *this;
		//å é€’å¢
		m_Num++;
		//æœ€åå°†è®°å½•ç»“æœåšè¿”å›æ“ä½œ
		return temp;
	}
private:
	int m_Num;
};
//é‡è½½å·¦ç§»è¿ç®—ç¬¦
 ostream& operator<<(ostream& cout, myInteger mint)
{
	cout << mint.m_Num;
	return cout;
}
void test01()
{
	myInteger  mint;
	cout << ++mint << endl;
	cout << ++(++mint) << endl;
}
void test02()
{
	myInteger myint;
	cout << myint++ << endl;
	cout << myint << endl;
}
int main()
{
	test01();
	test02();
	system("pause");
	return 0;
} 
````

> æ€»ç»“ï¼šå‰ç½®é€’å¢è¿”å›å¼•ç”¨ï¼Œåç½®é€’å¢è¿”å›å€¼ 

### èµ‹å€¼è¿ç®—ç¬¦é‡è½½

C++ç¼–è¯‘å™¨è‡³å°‘ç»™ä¸€ä¸ªç±»æ·»åŠ 4ä¸ªå‡½æ•°

1. é»˜è®¤æ„é€ å‡½æ•°ï¼ˆæ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰
2. é»˜è®¤ææ„å‡½æ•°ï¼ˆæ— å‚ï¼Œå‡½æ•°ä½“ä¸ºç©ºï¼‰
3. é»˜è®¤æ‹·è´æ„é€ å‡½æ•°ï¼Œå¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´
4. èµ‹å€¼è¿ç®—ç¬¦ operator=,å¯¹å±æ€§è¿›è¡Œå€¼æ‹·è´

å¦‚æœç±»ä¸­æœ‰å±æ€§æŒ‡å‘å †åŒºï¼Œåšèµ‹å€¼æ“ä½œæ—¶ä¹Ÿä¼šå‡ºç°æ·±æµ…æ‹·è´é—®é¢˜

```c++
#include <iostream>
#include <string>
using namespace std;

//èµ‹å€¼è¿ç®—ç¬¦é‡è½½
class Person
{
public:
	Person(int age)
	{
		m_Age=new int(age);
	}
	~Person()
	{
		if (m_Age != NULL)
		{
			delete m_Age;
			m_Age = NULL;
		}
	}

	//é‡è½½èµ‹å€¼è¿ç®—ç¬¦
	Person & operator =(Person &p)
	{
		//ç¼–è¯‘å™¨æ˜¯æä¾›æµ…æ‹·è´
		
		//åº”è¯¥å…ˆåˆ¤æ–­æ˜¯å¦æœ‰å±æ€§åœ¨å †åŒºï¼Œå¦‚æœæœ‰å…ˆé‡Šæ”¾å¹²å‡€ï¼Œç„¶åå†æ·±æ‹·è´
		if (m_Age != NULL)
		{
			delete m_Age;
			m_Age = NULL;
		}

		//æ·±æ‹·è´
		m_Age = new int(*p.m_Age);

		//è¿”å›æœ¬èº«
		return *this;
	}
	int *m_Age;

};

void test01()
{
	Person p1(18);
	Person p2(20);
	Person p3(30);
	p3=p2 = p1;//èµ‹å€¼æ“ä½œ
	cout << "p1çš„å¹´é¾„ä¸ºï¼š" << *p1.m_Age << endl;
	cout << "p2çš„å¹´é¾„ä¸ºï¼š" << *p2.m_Age << endl;
	cout << "p3çš„å¹´é¾„ä¸ºï¼š" << *p3.m_Age << endl;
}
int main()
{
	test01();
	system("pause");
	return 0;
} 
```

### å…³ç³»è¿ç®—ç¬¦é‡è½½

ä½œç”¨ï¼šé‡è½½å…³ç³»è¿ç®—ç¬¦ï¼Œå¯ä»¥è®©ä¸¤ä¸ªè‡ªå®šä¹‰ç±»å‹å¯¹è±¡è¿›è¡Œå¯¹æ¯”æ“ä½œ

```c++
#include <iostream>
#include <string>
using namespace std;

//å…³ç³»è¿ç®—ç¬¦é‡è½½

class Person
{
public:
	Person(string name, int age)
	{
		m_Name = name;
		m_Age = age;
	}

	bool  operator ==(Person&p)
	{
		if (this->m_Name == p.m_Name && this->m_Name == p.m_Name)
		{
			return true;
		}
		return false;
	}


	bool  operator !=(Person&p)
	{
		if (this->m_Name == p.m_Name && this->m_Name == p.m_Name)
		{
			return false;
		}
		return true;
	}
	string m_Name;
	int m_Age;

};

void test01()
{
	Person p1("tom",18);
	Person p2("2om", 18);
	if (p1 == p2)
	{
		cout << "p1,p2ç›¸ç­‰" << endl;
	}
	else
	{
		cout << "p1,p2ä¸ç›¸ç­‰" <<endl;
	}

	if (p1 != p2)
	{
		cout << "p1,p2ä¸ç›¸ç­‰" << endl;
	}
	else
	{
		cout << "p1,p2ç›¸ç­‰" << endl;
	}
}
int main()
{
	test01();
	system("pause");
	return 0;
} 
```

### å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦é‡è½½

* å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦()ä¹Ÿå¯ä»¥é‡è½½
* ç”±äºé‡è½½åä½¿ç”¨çš„æ–¹å¼éå¸¸åƒå‡½æ•°çš„è°ƒç”¨ï¼Œå› æ­¤ç§°ä¸ºä»¿å‡½æ•°
* ä»¿å‡½æ•°æ²¡æœ‰å›ºå®šå†™æ³•ï¼Œéå¸¸çµæ´»

```c++
#include <iostream>
#include <string>
using namespace std;
//å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦é‡è½½
//æ‰“å°è¾“å‡ºç±»
class MyPrint
{
public:
	//é‡è½½å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦
	void operator()(string test)
	{
		cout << test << endl;
	}
};
void myPrint2(string test)
{
	cout << test << endl;
}
void test01()
{
	MyPrint myPrint;
	myPrint("hello world");//ç”±äºä½¿ç”¨èµ·æ¥éå¸¸ç±»ä¼¼äºå‡½æ•°è°ƒç”¨ï¼Œå› æ­¤ç§°ä¸ºä»¿å‡½æ•°
	myPrint2("hello world");
}
//ä»¿å‡½æ•°éå¸¸çµæ´»ï¼Œæ²¡æœ‰å›ºå®šçš„å†™æ³•
//åŠ æ³•ç±»
class MyAdd
{
public:
	int operator()(int num1,int num2)
	{
		return num1 + num2;
	}
};
void test02()
{
	MyAdd myadd;
	int ret=myadd(100, 100);
	cout << "ret=" << ret << endl;

	//åŒ¿åå‡½æ•°å¯¹è±¡
	cout << MyAdd()(100, 100) << endl;
}
int main()
{
	test01();
	test02();
	system("pause");
	return 0;
} 
```

## ç»§æ‰¿

**ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€**

æœ‰äº›ç±»ä¸ç±»ä¹‹é—´å­˜åœ¨ç‰¹æ®Šçš„å…³ç³»ï¼Œä¾‹å¦‚
$$
åŠ¨ç‰©
\begin {cases}
çŒ«
\begin {cases}
åŠ è²çŒ«\\
å¸ƒå¶çŒ«\\
æ³¢æ–¯çŒ«ç­‰ç­‰â€¦â€¦
\end{cases}\\
ç‹—
\begin {cases}
å“ˆå£«å¥‡\\
äº¬å·´\\
å¾·å›½ç‰§ç¾ŠçŠ¬â€¦â€¦ç­‰ç­‰
\end {cases}\\
\end {cases}
$$
æˆ‘ä»¬å‘ç°ï¼Œå®šä¹‰è¿™äº›ç±»æ—¶ï¼Œä¸‹çº§åˆ«çš„æˆå‘˜é™¤äº†æ‹¥æœ‰ä¸Šä¸€çº§çš„å…±æ€§ï¼Œè¿˜æœ‰è‡ªå·±çš„ç‰¹æ€§ã€‚

è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘åˆ©ç”¨ç»§æ‰¿çš„æŠ€æœ¯ï¼Œå‡å°‘ä»£ç çš„é‡å¤æ€§

### ç»§æ‰¿çš„åŸºæœ¬è¯­æ³•

ä¾‹å¦‚ç½‘ç«™ä¸­ï¼Œéƒ½æœ‰å…¬å…±çš„å¤´éƒ¨ï¼Œå…¬å…±çš„åº•éƒ¨ï¼Œç”šè‡³å…¬å…±çš„å·¦ä¾§åˆ—è¡¨ï¼Œåªæœ‰ä¸­å¿ƒå†…å®¹ä¸åŒï¼Œæ¥ä¸‹æ¥åˆ†åˆ«åˆ©ç”¨æ™®é€šå†™æ³•å’Œç»§æ‰¿å†™æ³•æ¥å®ç°ç½‘é¡µä¸­çš„å†…å®¹ï¼Œçœ‹ä¸€ä¸‹ç»§æ‰¿å­˜åœ¨çš„æ„ä¹‰ä»¥åŠå¥½å¤„

#### ç»§æ‰¿å®ç°ï¼š

```c++
#include <iostream>
#include <string>
using namespace std;
//ç»§æ‰¿å®ç°é¡µé¢
//å…¬å…±é¡µé¢ç±»
class BasePage
{
public:
	void header()
	{
		cout << "é¦–é¡µã€å…¬å¼€è¯¾ã€ç™»å½•ã€æ³¨å†Œâ€¦â€¦ï¼ˆå…¬å…±å¤´éƒ¨ï¼‰" << endl;
	}
	void footer()
	{
		cout << "å¸®åŠ©ä¸­å¿ƒã€äº¤æµåˆä½œã€ç«™å†…åœ°å›¾â€¦â€¦ï¼ˆå…¬å…±åº•éƒ¨ï¼‰" << endl;
	}
	void left()
	{
		cout << "javaã€pythonã€c++ã€ï¼ˆå…¬å…±åˆ†ç±»åˆ—è¡¨ï¼‰" << endl;
	}
	void content()
	{
		cout << "javaå­¦ç§‘è§†é¢‘" << endl;
	}
};
//ç»§æ‰¿çš„å¥½å¤„ï¼šå‡å°‘é‡å¤ä»£ç 
//è¯­æ³•ï¼šclass å­ç±» : ç»§æ‰¿æ–¹å¼ çˆ¶ç±»
//å­ç±» ä¹Ÿç§°ä¸º æ´¾ç”Ÿç±»
//çˆ¶ç±» ä¹Ÿç§°ä¸º åŸºç±»
//Javaé¡µé¢
class Java : public BasePage
{
public:
	void content()
	{
		cout << "Javaå­¦ç§‘è§†é¢‘" << endl;
	}
};
//Pythoné¡µé¢
class Python : public BasePage
{
public:
	void content()
	{
		cout << "Pythonå­¦ç§‘è§†é¢‘" << endl;
	}
};
void test01()
{
	cout << "Javaä¸‹è½½è§†é¢‘é¡µé¢å¦‚ä¸‹ï¼š<" << endl;
	Java ja;
	ja.header();
	ja.footer();
	ja.left();
	
	Python py;
	py.header();
	py.footer();
	py.left();
}
int main()
{
	test01();
	test02();
	system("pause");
	return 0;

} 
```

æ€»ç»“ï¼š

ç»§æ‰¿çš„å¥½å¤„ï¼šå¯ä»¥å‡å°‘é‡å¤ä»£ç 

 è¯­æ³•ï¼šclass å­ç±» : ç»§æ‰¿æ–¹å¼ çˆ¶ç±»
å­ç±» ä¹Ÿç§°ä¸º æ´¾ç”Ÿç±»
çˆ¶ç±» ä¹Ÿç§°ä¸º åŸºç±»

**æ´¾ç”Ÿç±»ä¸­çš„æˆå‘˜ï¼ŒåŒ…å«ä¸¤å¤§éƒ¨åˆ†**ï¼š

ä¸€ç±»æ—¶ä»åŸºç±»ç»§æ‰¿è¿‡æ¥çš„ï¼Œä¸€ç±»æ—¶è‡ªå·±å¢åŠ çš„æˆå‘˜

ä»åŸºç±»ç»§æ‰¿è¿‡è¿‡æ¥çš„è¡¨ç°å…¶å…±æ€§	è€Œæ–°å¢æˆå‘˜ä½“ç°äº†å…¶ä¸ªæ€§ã€‚



### ç»§æ‰¿æ–¹å¼

ç»§æ‰¿çš„è¯­æ³•ï¼š`class å­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰ : ç»§æ‰¿æ–¹å¼ çˆ¶ç±»ï¼ˆåŸºç±»ï¼‰`

ç»§æ‰¿æ–¹å¼ä¸€å…±æœ‰ä¸‰ç§ï¼š

* å…¬å…±ç»§æ‰¿
* ä¿æŠ¤ç»§æ‰¿
* ç§æœ‰ç»§æ‰¿

```c++
#include <iostream>
#include <string>
using namespace std;
//ç»§æ‰¿æ–¹å¼	
//å…¬å…±ç»§æ‰¿
class Base1
{
public:
	int m_A;
protected:
	int m_B;
private:
	int m_C;
};
//å…¬å…±ç»§æ‰¿
class Son1 : public Base1
{
public:
	void func()
	{
		m_A = 10;//çˆ¶ç±»ä¸­çš„å…¬å…±æƒé™æˆå‘˜åˆ°å­ç±»ä¸­ä¾ç„¶æ˜¯å…¬å…±æƒé™
		m_B = 10;//çˆ¶ç±»ä¸­çš„ä¿æŠ¤æƒé™æˆå‘˜åˆ°å­ç±»ä¸­ä¾ç„¶æ˜¯ä¿æŠ¤æƒé™
		//m_C = 10;//çˆ¶ç±»ä¸­çš„ç§æœ‰æƒé™ï¼Œå­ç±»è®¿é—®ä¸åˆ°
	}
};
//ä¿æŠ¤ç»§æ‰¿
class Base2
{
public:
	int m_A = 10;
protected:
	int m_B = 10;
private:
	int m_C = 10;
};
class Son2 :protected Base2
{
public:
	void func()
	{
		m_A = 100;//çˆ¶ç±»ä¸­å…¬å…±æˆå‘˜ï¼Œåˆ°å­ç±»ä¸­å˜ä¸ºä¿æŠ¤æƒé™
		m_B = 100;//çˆ¶ç±»ä¸­å…¬å…±æˆå‘˜ï¼Œåˆ°å­ç±»ä¸­ä¾ç„¶ä¸ºä¿æŠ¤æƒé™
		//m_C = 100;//çˆ¶ç±»ä¸­ç§æœ‰æˆå‘˜ï¼Œå­ç±»è®¿é—®ä¸åˆ°
	}
};
//ç§æœ‰ç»§æ‰¿
class Base3
{
public:
	int m_A = 10;
protected:
	int m_B = 10;
private:
	int m_C = 10;
};
class Son3 :private Base3
{
public:
	void func()
	{
		m_A = 100;//çˆ¶ç±»ä¸­å…¬å…±æˆå‘˜åˆ°å­ç±»ä¸­å˜ä¸ºäº†ç§æœ‰æˆå‘˜
		m_B = 100;//çˆ¶ç±»ä¸­çš„ä¿æŠ¤æˆå‘˜åˆ°å­ç±»ä¸­å˜ä¸ºç§æœ‰æˆå‘˜
		m_C = 100;//çˆ¶ç±»ä¸­çš„ç§æœ‰æˆå‘˜ï¼Œå­ç±»è®¿é—®ä¸åˆ°
	}
};
void test01()
{
	Son1 s1;
	s1.m_A = 100;
	//s1.m_B = 100;//åˆ°Son1ä¸­ m_Bæ˜¯ä¿æŠ¤æƒé™ ç±»å¤–è®¿é—®ä¸åˆ°
}
void test02()
{
	Son2 s1;
	//s1.m_A = 100;//åˆ°Son2ä¸­ m_Aå˜ä¸ºäº†ä¿æŠ¤æƒé™ ç±»å¤–è®¿é—®ä¸åˆ°
	//s1.m_B = 100;//å†Son2ä¸­ m_Bä¿æŠ¤æƒé™ ä¸å¯ä»¥è®¿é—®
} 
void test03()
{
	Son3 s1;
	//s1.m_A = 1000;//åˆ°Son3ä¸­ å˜ä¸ºäº†ç§æœ‰æˆå‘˜ ç±»å¤–è®¿é—®ä¸åˆ°
	//s1.m_B = 1000;//åˆ°Son3ä¸­ å˜ä¸ºäº†ç§æœ‰æˆå‘˜ ç±»å¤–è®¿é—®ä¸åˆ°
}
class GrandSon3 :public Son3
{
public:
	void func()
	{
		m_A = 1000;//åˆ°äº†Son3ä¸­ï¼ŒM_Aå˜ä¸ºç§æœ‰ï¼Œå³ä½¿æ˜¯å„¿å­ï¼Œä¹Ÿæ˜¯è®¿é—®ä¸åˆ°
		m_B = 1000;//åˆ°äº†Son3ä¸­ï¼ŒM_Bå˜ä¸ºç§æœ‰ï¼Œå³ä½¿æ˜¯å„¿å­ï¼Œä¹Ÿæ˜¯è®¿é—®ä¸åˆ°
	}
};
int main()
{
	test01();
	system("pause");
	return 0;
} 
```

### ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹

é—®é¢˜ï¼šä»çˆ¶ç±»ç»§æ‰¿è¿‡æ¥çš„æˆå‘˜ï¼Œé‚£äº›å±äºå­ç±»å¯¹è±¡ä¸­ï¼Ÿ

```c++
#include <iostream>
#include <string>
using namespace std;

//ç»§æ‰¿ä¸­çš„å¯¹è±¡æ¨¡å‹

class Base
{
public:
	int m_A;
protected:
	int m_B;
private:
	int m_C;
};

class Son :public Base
{
public:
	int m_D;
};
//åˆ©ç”¨å¼€å‘äººå‘˜å‘½ä»¤æç¤ºå·¥å…·å³Developer Command Prompt for VS 2022 æŸ¥çœ‹å¯¹è±¡æ¨¡å‹
//è·³è½¬ç›˜ç¬¦ E:
//è·³è½¬æ–‡ä»¶è·¯å¾„ cd..å…·ä½“è·¯å¾„
//æŸ¥çœ‹å‘½ä»¤
// cl /dl reportSingleClassLayoutç±»å æ–‡ä»¶å

void test01()
{
	//çˆ¶ç±»ä¸­æ‰€æœ‰éé™æ€æˆå‘˜å±æ€§éƒ½ä¼šè¢«å­ç±»ç»§æ‰¿ä¸‹å»
	//çˆ¶ç±»ä¸­ç§æœ‰æˆå‘˜å±æ€§ æ˜¯è¢«ç¼–è¯‘å™¨ç»™éšè—äº†ï¼Œå› æ­¤æ˜¯è®¿é—®ä¸åˆ°ï¼Œä½†æ˜¯ç¡®å®è¢«ç»§æ‰¿ä¸‹å»äº†
	cout << "sizeof of Son=" << sizeof(Son) << endl;
}


int main()
{
	test01();
	system("pause");
	return 0;

} 
```

> ç»“è®ºï¼šçˆ¶ç±»ä¸­ç§æœ‰æˆå‘˜ä¹Ÿæ˜¯è¢«å­ç±»ç»§æ‰¿ä¸‹å»äº†ï¼Œåªæ˜¯ç”±ç¼–è¯‘å™¨ç»™éšè—åè®¿é—®ä¸åˆ°

### ç»§æ‰¿ä¸­æ„é€ å’Œææ„é¡ºåº

å­ç±»ç»§æ‰¿çˆ¶ç±»åï¼Œå½“åˆ›å»ºå­ç±»å¯¹è±¡ï¼Œä¹Ÿä¼šè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°

é—®é¢˜ï¼šçˆ¶ç±»å’Œå­ç±»çš„æ„é€ å’Œææ„é¡ºåºæ˜¯è°å…ˆè°åï¼Ÿ

```c++
#include <iostream>
#include <string>
using namespace std;
//ç»§æ‰¿ä¸­çš„æ„é€ å’Œææ„é¡ºåº
class Base
{
public:
	Base()
	{
		cout << "Baseçš„æ„é€ å‡½æ•°ï¼" << endl;
	}
	~Base()
	{
		cout << "~Baseçš„ææ„å‡½æ•°ï¼" << endl;
	}
};
class Son :public Base
{
public:
	Son()
	{
		cout << "Sonæ„é€ å‡½æ•°ï¼" << endl;
	}
	~Son()
	{
		cout << "~Sonæ„é€ å‡½æ•°ï¼" << endl;
	}
};
void test01()
{
	//Base b;
	//ç»§æ‰¿ä¸­çš„æ„é€ å’Œææ„é¡ºåºå¦‚ä¸‹ï¼š
	//å…ˆæ„é€ çˆ¶ç±»ï¼Œå†æ„é€ å­ç±»ï¼Œææ„çš„é¡ºåºå’Œæ„é€ çš„é¡ºåºç›¸å  
	Son s;
}
int main()
{
	test01();
	system("pause");
	return 0;
} 
```

> æ€»ç»“ï¼šç»§æ‰¿ä¸­ å…ˆè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨å­ç±»æ„é€ å‡½æ•°ï¼Œææ„é¡ºåºä¸æ„é€ ç›¸å

### ç»§æ‰¿åŒåæˆå‘˜å¤„ç†æ–¹å¼

é—®é¢˜ï¼šå½“å­ç±»ä¸çˆ¶ç±»å‡ºç°åŒåçš„æˆå‘˜ï¼Œå¦‚ä½•é€šè¿‡å­ç±»å¯¹è±¡ï¼Œè®¿é—®åˆ°å­ç±»æˆ–çˆ¶ç±»ä¸­åŒåçš„æ•°æ®å‘¢ï¼Ÿ

* è®¿é—®å­ç±»åŒåæˆå‘˜ ç›´æ¥è®¿é—®å³å¯
* è®¿é—®çˆ¶ç±»åŒåæˆå‘˜ éœ€è¦åŠ ä½œç”¨åŸŸ

```c++
#include <iostream>
#include <string>
using namespace std;
//ç»§æ‰¿ä¸­åŒåæˆå‘˜å¤„ç†
class Base
{
public:
	Base()
	{
		m_A = 100;
	}

	void func()
	{
		cout << "Base -func()è°ƒç”¨" << endl;
	}
	void func(int a)
	{
		cout << "Base -func(int a)è°ƒç”¨" << endl;
	}
	int m_A;
};
class Son :public Base
{
public:
	Son()
	{
		m_A = 200;
	}
	void func()
	{
		cout << "Son -func()è°ƒç”¨" << endl;
	}
	int m_A;
};
//åŒåæˆå‘˜å±æ€§å¤„ç†
void test01()
{
	Son s;
	cout << "Son sä¸­çš„m_Aå€¼ä¸ºï¼š" <<s.m_A<< endl;
	cout << "Baseä¸­çš„m_Aå€¼ä¸ºï¼š" << s.Base::m_A << endl;//å¦‚æœé€šè¿‡å­ç±»å¯¹è±¡ï¼Œè®¿é—®åˆ°çˆ¶ç±»æˆå‘˜éœ€è¦åŠ ä½œç”¨åŸŸ
}
//åŒåæˆå‘˜å‡½æ•°å¤„ç†
void test02()
{
	Son s;
	s.func();//ç›´æ¥è°ƒç”¨ è°ƒç”¨æ˜¯å­ç±»ä¸­çš„åŒåæˆå‘˜
	// å¦‚ä½•è°ƒç”¨åˆ°çˆ¶ç±»ä¸­åŒåæˆå‘˜å‡½æ•°?åŠ ä½œç”¨åŸŸ
	s.Base::func();
	//å¦‚æœå­ç±»ä¸­å‡ºç°å’Œçˆ¶ç±»åŒåçš„æˆå‘˜å‡½æ•°ï¼Œå­ç±»çš„åŒåæˆå‘˜ä¼šéšè—æ‰çˆ¶ç±»ä¸­æ‰€æœ‰åŒåæˆå‘˜å‡½æ•°
	//å¦‚æœæƒ³è¦è®¿é—®åˆ°çˆ¶ç±»ä¸­è¢«éšè—çš„åŒåæˆå‘˜å‡½æ•°ï¼Œéœ€è¦åŠ ä½œç”¨åŸŸ
	s.Base::func(100);
}
int main()
{
	//test01();
	test02();
	system("pause");
	return 0;
} 
```

æ€»ç»“ï¼š

1. å­ç±»å¯¹è±¡å¯ä»¥ç›´æ¥è®¿é—®åˆ°å­ç±»ä¸­åŒåæˆå‘˜
2. å­ç±»å¯¹è±¡åŠ ä½œç”¨åŸŸå¯ä»¥è®¿é—®åˆ°çˆ¶ç±»åŒåæˆå‘˜
3. å½“å­ç±»ä¸çˆ¶ç±»æ‹¥æœ‰åŒåçš„æˆå‘˜å‡½æ•°ï¼Œå­ç±»ä¼šéšè—çˆ¶ç±»ä¸­åŒåæˆå‘˜å‡½æ•°ï¼ŒåŠ ä½œç”¨åŸŸå¯ä»¥è®¿é—®åˆ°çˆ¶ç±»ä¸­åŒåå‡½æ•°

### ç»§æ‰¿åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼

é—®é¢˜ï¼šç»§æ‰¿ä¸­åŒåçš„é™æ€æˆå‘˜å†å­ç±»å¯¹è±¡ä¸Šå¦‚ä½•è¿›è¡Œè®¿é—®ï¼Ÿ

é™æ€æˆå‘˜å’Œéé™æ€æˆå‘˜å‡ºç°åŒåï¼Œå¤„ç†æ–¹å¼ä¸€è‡´

* è®¿é—®å­ç±»åŒåæˆå‘˜ ç›´æ¥è®¿é—®å³å¯
* è®¿é—®çˆ¶ç±»åŒåæˆå‘˜ éœ€è¦åŠ ä½œç”¨åŸŸ

```c++
#include <iostream>
#include <string>
using namespace std;
//ç»§æ‰¿ä¸­åŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼
class Base
{
public:
	static int m_A;
	static void func(int a)
	{
		cout << "Base - static void func(int a )" << endl;
	}
};
int Base::m_A = 100;
class Son :public Base
{
public:
	static int m_A;
	static void func()
	{
		cout << "Son - static void func()" << endl;
	}
};
int Son :: m_A = 200;
//åŒåé™æ€æˆå‘˜å±æ€§
void test01()
{
	//1ã€é€šè¿‡å¯¹è±¡è®¿é—®
	cout << "é€šè¿‡å¯¹è±¡è®¿é—®" << endl;
	Son s;
	cout << "Son ä¸‹ m_A=" << s.m_A << endl;
	cout << "Base ä¸‹ m_A=" << s.Base::m_A << endl;

	//2ã€é€šè¿‡ç±»åè®¿é—®
	cout << "é€šè¿‡ç±»åè®¿é—®" << endl;
	cout << "Son ä¸‹ m_A = " << Son::m_A << endl;
	//ç¬¬ä¸€ä¸ªï¼šï¼šä»£è¡¨é€šè¿‡ç±»åçš„æ–¹å¼è¿›è¡Œè®¿é—®ï¼Œç¬¬äºŒä¸ªï¼šï¼šä»£è¡¨è®¿é—®çˆ¶ç±»Baseä½œç”¨åŸŸä¸‹
	cout << "Base ä¸‹ m_A=" << Son::Base::m_A << endl;
}
//åŒåé™æ€æˆå‘˜å‡½æ•°
void test02()
{
	 //é€šè¿‡å¯¹è±¡è®¿é—®
	cout << "é€šè¿‡å¯¹è±¡è®¿é—®" << endl;
	Son s;
	s.func();
	s.Base::func(1000);
	//é€šè¿‡ç±»åè®¿é—®
	cout << "é€šè¿‡ç±»åè®¿é—®" << endl;
	Son::func();
	//å­ç±»å‡ºç°å’Œçˆ¶ç±»åŒåé™æ€æˆå‘˜å‡½æ•°ï¼Œä¹Ÿä¼šéšè—çˆ¶ç±»ä¸­æ‰€æœ‰åŒåæˆå‘˜å‡½æ•°
	//å¦‚æœæƒ³è®¿é—®çˆ¶ç±»ä¸­è¢«éšè—åŒåæˆå‘˜ï¼Œéœ€è¦åŠ ä½œç”¨åŸŸ
	Son::Base::func(100);
}
int main()
{
	//test01();
	test02();
	system("pause");
	return 0;
} 
```

> æ€»ç»“ï¼šåŒåé™æ€æˆå‘˜å¤„ç†æ–¹å¼å’Œéé™æ€å¤„ç†æ–¹å¼ä¸€æ ·ï¼Œåªä¸è¿‡æœ‰ä¸¤ç§è®¿é—®çš„æ–¹å¼ï¼ˆé€šè¿‡å¯¹è±¡å’Œé€šè¿‡ç±»åï¼‰

### å¤šç»§æ‰¿è¯­æ³•

C++å…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¤šä¸ªç±»

è¯­æ³•ï¼š`class å­ç±» : ç»§æ‰¿æ–¹å¼ çˆ¶ç±»1 ,ç»§æ‰¿æ–¹å¼ çˆ¶ç±»2â€¦â€¦`

å¤šç»§æ‰¿å¯èƒ½ä¼šå¼•å‘çˆ¶ç±»ä¸­åŒåæˆå‘˜å‡ºç°ï¼Œéœ€è¦åŠ ä½œç”¨åŸŸåŒºåˆ†

**C++å®é™…å¼€å‘ä¸­ä¸å»ºè®®ç”¨å¤šç»§æ‰¿**

```c++
#include <iostream>
#include <string>
using namespace std;
//å¤šç»§æ‰¿è¯­æ³•
class Base1
{
public:
	Base1()
	{
		m_A = 100;
	}
	int m_A;
};
class Base2
{
public:
	Base2()
	{
		m_A = 1000;
		m_B = 200;
	}
	int m_B,m_A;
};

//å­ç±»	éœ€è¦ç»§æ‰¿Base1å’ŒBase2
//è¯­æ³•ï¼š class å­ç±»:ç»§æ‰¿æ–¹å¼  çˆ¶ç±»1ï¼Œç»§æ‰¿æ–¹å¼ çˆ¶ç±»2 â€¦â€¦
class Son :public Base1, public Base2
{
public:
	Son()
	{
		m_C = 300;
		m_D = 400;
	}
	int m_C, m_D;
};

void test01()
{
	Son s;
	cout << "sizeof Son=" << sizeof(s) << endl;
	//å½“çˆ¶ç±»ä¸­å‡ºç°åŒåæˆå‘˜ï¼Œéœ€è¦åŠ ä½œç”¨åŸŸåŒºåˆ†
	cout << "Base::m_A=" << s.Base1::m_A << endl;
	cout << "Base2::m_A=" << s.Base2::m_A << endl;
}
int main()
{
	test01();
	//test02();
	system("pause");
	return 0;
} 
```

> æ€»ç»“ï¼šå¤šç»§æ‰¿ä¸­å¦‚æœçˆ¶ç±»ä¸­å‡ºç°äº†åŒåæƒ…å†µï¼Œå­ç±»ä½¿ç”¨æ—¶è¦åŠ ä½œç”¨åŸŸ

### è±å½¢ç»§æ‰¿

**è±å½¢ç»§æ‰¿æ¦‚å¿µ**ï¼š

â€‹	ä¸¤ä¸ªæ´¾ç”Ÿç±»ç»§æ‰¿åŒä¸€ä¸ªåŸºç±»

â€‹	åˆæœ‰æŸä¸ªç±»åŒæ—¶ç»§æ‰¿è€…ä¸¤ä¸ªæ´¾ç”Ÿç±»

â€‹	è¿™ç§ç»§æ‰¿è¢«ç§°ä¸ºè±å½¢ç»§æ‰¿ï¼Œæˆ–è€…é’»çŸ³ç»§æ‰¿

```mermaid

classDiagram
    class m_AgeA {
     è‰æ³¥é©¬ï¼ˆç¾Šé©¼ï¼‰
    }
    class m_AgeB {
        ğŸ
    }
    class m_AgeC {
        é©¼
    }
    class m_AgeD {
        åŠ¨ç‰©
    }

    m_AgeB --|> m_AgeA
    m_AgeC --|> m_AgeA
    m_AgeD --|> m_AgeB
    m_AgeD --|> m_AgeC
```

è±å½¢ç»§æ‰¿é—®é¢˜ï¼š

1. ç¾Šç»§æ‰¿äº†åŠ¨ç‰©çš„æ•°æ®ï¼Œé©¼åŒæ ·ç»§æ‰¿äº†åŠ¨ç‰©çš„æ•°æ®ï¼Œå½“è‰æ³¥é©¬ä½¿ç”¨æ•°æ®æ—¶ï¼Œå°±ä¼šäº§ç”ŸäºŒä¹‰æ€§
2. è‰æ³¥é©¬ç»§æ‰¿è‡ªåŠ¨ç‰©çš„æ•°æ®ç»§æ‰¿äº†ä¸¤ä»½ï¼Œå…¶å®æˆ‘ä»¬æ¸…æ¥šï¼Œè¿™ä»½æ•°æ®æˆ‘ä»¬åªéœ€è¦ä¸€ä»½å°±å¯ä»¥ã€‚

```c++
#include <iostream>
#include <string>
using namespace std;
//åŠ¨ç‰©ç±»
class Animal
{
public:
	int m_Age;
};
//åˆ©ç”¨è™šç»§æ‰¿ï¼Œè§£å†³è±å½¢ç»§æ‰¿çš„é—®é¢˜
// ç»§æ‰¿ä¹‹å‰ åŠ ä¸Šå…³é”®å­— virutal å˜ä¸ºè™šç»§æ‰¿
// Animalç±»ç§°ä¸ºè™šåŸºç±»
//ç¾Šç±»
class Sheep:virtual public Animal 
{
};
//é©¼ç±»
class Tuo :virtual public Animal
{
};

//è‰æ³¥é©¬
class SheepTuo :public Sheep,public Tuo
{
};
void test01()
{
	SheepTuo st;
	st.Sheep::m_Age = 18;
	st.Tuo::m_Age = 28;
	//å½“è±å½¢ç»§æ‰¿ï¼Œä¸¤ä¸ªçˆ¶ç±»æ‹¥æœ‰ç›¸åŒæ•°æ®ï¼Œéœ€è¦åŠ ä½œç”¨åŸŸ
	cout << "st.Sheep::m_Age=" << st.Sheep::m_Age << endl;
	cout << "st.Tuo::m_Age=" << st.Tuo::m_Age << endl;
	cout << "st.m_Age" <<st.m_Age<<	 endl;
	//æ¯”å¦‚å¹´é¾„ï¼Œä¸€ä¸ªåŠ¨ç‰©ä¸å¯èƒ½æœ‰ä¸¤ä¸ªå¹´é¾„ï¼Œåªæœ‰ä¸€ä»½å°±å¯ä»¥äº†ï¼Œè±å½¢ç»§æ‰¿å¯¼è‡´äº†æ•°æ®æœ‰ä¸¤ä»½ï¼Œå¯¼è‡´èµ„æºæµªè´¹
}
int main()
{
	test01();
	//test02();
	system("pause");
	return 0;
} 
```

> æ€»ç»“ï¼š
>
> * è±å½¢ç»§æ‰¿å—²æ¥çš„ä¸»è¦é—®é¢˜æ˜¯å­ç±»ç»§æ‰¿ä¸¤ä»½ç›¸åŒçš„æ•°æ®ï¼Œå¯¼è‡´èµ„æºæµªè´¹ä»¥åŠæ¯«æ— æ„ä¹‰
> * åˆ©ç”¨è™šç»§æ‰¿å¯ä»¥è§£å†³è±å½¢ç»§æ‰¿é—®é¢˜

## å¤šæ€

### å¤šæ€åŸºæœ¬æ¦‚å¿µ

**å¤šæ€æ—¶C++é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€**

å¤šæ€åˆ†ä¸ºä¸¤ç±»ï¼š

* é™æ€å¤šæ€ï¼šå‡½æ•°é‡è½½å’Œè¿ç®—ç¬¦é‡è½½å±äºé™æ€å¤šæ€ï¼Œå¤ç”¨å‡½æ•°å
* åŠ¨æ€å¤šæ€ï¼šæ´¾ç”Ÿç±»å’Œè™šå‡½æ•°å®ç°è¿è¡Œæ—¶å¤šæ€

é™æ€å¤šæ€å’ŒåŠ¨æ€å¤šæ€åŒºåˆ«ï¼š

* é™æ€å¤šæ€çš„å‡½æ•°åœ°å€æ—©ç»‘å®š - ç¼–è¯‘é˜¶æ®µç¡®å®šå‡½æ•°åœ°å€
* åŠ¨æ€å¤šæ€çš„å‡½æ•°åœ°å€æ™šç»‘å®š - è¿è¡Œé˜¶æ®µç¡®å®šå‡½æ•°åœ°å€

```c++
#include <iostream>
#include <string>
using namespace std;
//å¤šæ€
//åŠ¨ç‰©ç±»
class Animal
{
public:
	virtual void speak()
	{
		cout << "åŠ¨ç‰©åœ¨è¯´è¯" << endl;
	}
};
//çŒ«ç±»
class Cat :public Animal
{
public:
	//é‡å†™æ¦‚å¿µï¼šå‡½æ•°è¿”å›å€¼ç±»å‹	å‡½æ•°å	å‚æ•°åˆ—è¡¨	å®Œå…¨ç›¸åŒ
	//é‡è½½æ¦‚å¿µï¼šå‡½æ•°åç›¸åŒï¼Œå‚æ•°åˆ—è¡¨å¯ä»¥ä¸åŒ 
	void speak()
	{
		cout << "çŒ«åœ¨è¯´è¯" << endl;
	}
};
//ç‹—ç±»
class Dog :public Animal
{
public:
	void speak()
	{
		cout << "ç‹—åœ¨è¯´è¯" << endl;
	}
};
//åˆ›é€ è¯´è¯çš„å‡½æ•°
//åœ°å€æ—©ç»‘å®š	åœ¨ç¼–è¯‘é˜¶æ®µç¡®å®šå‡½æ•°åœ°å€
//å¦‚æœæƒ³æ‰§è¡Œè®©çŒ«è¯´è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°åœ°å€å°±ä¸èƒ½æå‰ç»‘å®šï¼Œéœ€è¦åœ¨è¿è¡Œé˜¶æ®µè¿›è¡Œç»‘å®šï¼Œåœ°å€æ™šç»‘å®š
//åŠ¨æ€å¤šæ€æ»¡è¶³æ¡ä»¶
//1ã€æœ‰ç»§æ‰¿å…³ç³»
//2ã€å­ç±»é‡å†™çˆ¶ç±»çš„è™šå‡½æ•°
//åŠ¨æ€å¤šæ€ä½¿ç”¨
//çˆ¶ç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨ æŒ‡å‘å­ç±»å¯¹è±¡
void dospeak(Animal &animal)//Animalk animal=cat;
{
	animal.speak();
}
void test01()
{
	Cat cat;
	dospeak(cat);
	Dog dog;
	dospeak(dog);
}
int main()
{
	test01();
	//test02();
	system("pause");
	return 0
} 
```

 æ€»ç»“ï¼š

å¤šæ€æ»¡è¶³æ¡ä»¶

* æœ‰ç»§æ‰¿å…³ç³»
* å­ç±»é‡å†™çˆ¶ç±»ä¸­çš„è™šå‡½æ•°

å¤šæ€ä½¿ç”¨æ¡ä»¶

* çˆ¶ç±»æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡

é‡å†™æ¦‚å¿µï¼šå‡½æ•°è¿”å›å€¼ç±»å‹ å‡½æ•°å å‚æ•°åˆ—è¡¨ å®Œå…¨ä¸€è‡´æ‰ä¸ºé‡å†™

#### å¤šæ€çš„æ·±å…¥åˆ¨æ

ä¼ é€é—¨ï¼š[54 ç±»å’Œå¯¹è±¡-å¤šæ€-å¤šæ€çš„åŸç†å‰–æ_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1et411b73Z?spm_id_from=333.788.player.switch&vd_source=64709a8217a1bbd540960dd246f1356a&p=136)

å½“å†™äº†å¦‚ä¸‹ä»£ç çš„æ—¶å€™ï¼š

```c++
class Animal
{
public:
	virtual void speak()//è™šå‡½æ•°
	{
		cout << "åŠ¨ç‰©åœ¨è¯´è¯" << endl;
	}
};
```

å½“å†™äº†è¿™æ®µä»£ç åï¼Œç›¸å½“äºAnimalä¸­æœ‰ä¸€ä¸ª4å­—èŠ‚å¤§å°çš„æŒ‡é’ˆï¼Œè¿™æŒ‡é’ˆå«åš`vfptr`(virtual function pointer)ï¼Œä¸­æ–‡ç¿»è¯‘è¿‡æ¥å«åšè™šå‡½æ•°æŒ‡é’ˆä¹Ÿå«åšè™šå‡½æ•°è¡¨æŒ‡é’ˆï¼Œè¿™ä¸¤ä¸ªæ˜¯åŒä¸€ç§ä¸œè¥¿ï¼Œå®ƒä¼šæŒ‡å‘ä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼Œè¡¨å†…éƒ¨è®°å½•ä¸€ä¸ªè™šå‡½æ•°çš„åœ°å€

å› ä¸ºspeakå±äºä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼Œæ—¢ç„¶æ˜¯æˆå‘˜å‡½æ•°çš„å‡½æ•°åœ°å€è¦åŠ ä¸€ä¸ªä½œç”¨åŸŸï¼Œå‘Šè¯‰å®ƒè¿™æ˜¯ä¸€ä¸ªAnimalä½œç”¨åŸŸä¸‹çš„å‡½æ•°ã€‚

å¦‚æœæƒ³è¦è®°ä½è¿™ä¸ªå‡½æ•°çš„åœ°å€é‚£ä¹ˆæ ¼å¼ä¸ºï¼š`&Animal speak`,è¿™æ ·è™šå‡½æ•°è¡¨è®°å½•çš„å°±æ˜¯è¿™ä¸ªè™šå‡½æ•°çš„åœ°å€ã€‚

æ¥ä¸‹æ¥å°±æ˜¯å­ç±»ä¸çˆ¶ç±»åœ¨å¤šæ€çš„æ¦‚å¿µä¸­çš„å…³ç³»ä»¥åŠè™šå‡½æ•°è¡¨ä¸­çš„åœ°å€çš„æ”¹å˜å…³ç³»ï¼š

ä»£ç å¦‚ä¸‹ï¼š

```c++
class Cat :public Animal
{
public:
	//é‡å†™æ¦‚å¿µï¼šå‡½æ•°è¿”å›å€¼ç±»å‹	å‡½æ•°å	å‚æ•°åˆ—è¡¨	å®Œå…¨ç›¸åŒ
	//é‡è½½æ¦‚å¿µï¼šå‡½æ•°åç›¸åŒï¼Œå‚æ•°åˆ—è¡¨å¯ä»¥ä¸åŒ 
	void speak()
	{
		cout << "çŒ«åœ¨è¯´è¯" << endl;
	}
};
```

æ²¡æœ‰é‡å†™å‰ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ‰€æœ‰å†…å®¹ï¼Œæ²¡æœ‰ä»€ä¹ˆå˜åŒ–

é‡å†™åï¼Œå­ç±»ä¼šæŠŠå­ç±»ä¸­çš„è™šå‡½æ•°è¡¨ä¸­çš„å†…å®¹åšä¸€ä¸ªè¦†ç›–æ“ä½œ ï¼Œå³å­ç±»ä¸­çš„è™šå‡½æ•°è¡¨å†…éƒ¨ä¼šæ›¿æ¢ç§°å­ç±»çš„è™šå‡½æ•°åœ°å€ã€‚

å°±æ˜¯åŸæœ¬çˆ¶ç±»ä¸­è™šå‡½æ•°è¡¨çš„&Animal ::speakå˜ä¸ºäº† Cat::speakï¼ˆæ˜¯ç»§æ‰¿è¿‡æ¥çš„å­ç±»çš„è™šå‡½æ•°è¡¨å‘ç”Ÿæ”¹å˜ï¼Œè€Œä¸æ˜¯çˆ¶ç±»çš„ï¼ï¼ï¼ï¼Œçˆ¶ç±»çš„æ²¡å˜ï¼ï¼ï¼ï¼‰

å½“çˆ¶ç±»çš„æŒ‡é’ˆæˆ–è€…å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡çš„æ—¶å€™ï¼Œå°±ä¼šå‘ç”Ÿå¤šæ€ï¼Œå³ç”±äºæœ¬èº«è¿˜æ˜¯å­ç±»å¯¹è±¡ï¼Œæ‰€ä»¥å½“è°ƒå–å…¬å…±çš„speakå‡½æ•°çš„æ—¶å€™ä¼šä»å­ç±»çš„åœ°å€è¡¨ä¸­æ‰¾åˆ°å­ç±»çš„å…¥å£åœ°å€ï¼Œè¿™ä¾¿æ˜¯å¤šæ€åŸç†ã€‚éªŒè¯ç”¨çš„æ˜¯VIsual Studio ä¸­çš„å¼€å‘è€…å·¥å…·

### å¤šæ€æ¡ˆä¾‹ â€”â€”â€”-è®¡ç®—æœºç±»

æ¡ˆä¾‹æè¿°ï¼šåˆ†åˆ«åˆ©ç”¨æ™®é€šå†™æ³•å’Œå¤šæ€æŠ€æœ¯ï¼Œè®¾è®¡å®ç°ä¸¤ä¸ªæ“ä½œæ•°è¿›è¡Œè¿ç®—çš„è®¡ç®—æœºç±»

å¤šæ€çš„ä¼˜ç‚¹ï¼š

* ä»£ç ç»„ç»‡ç»“æ„æ¸…æ™°
* å¯è¯»æ€§å¼º
* åˆ©äºå‰æœŸå’ŒåæœŸçš„æ‰©å±•ä»¥åŠç»´æŠ¤

```c++
#include <iostream>
#include <string>
using namespace std;
//åˆ†åˆ«åˆ©ç”¨æ™®é€šå†™æ³•å’Œå¤šæ€æŠ€æœ¯å®ç°è®¡ç®—æœºç±»
//æ™®é€šå†™æ³•
class Calculator
{
public:
	int getResult(string oper)
	{
		if (oper == "+")
		{
			return m_Num1 + m_Num2;
		}
		else if (oper == "-")
		{
			return m_Num1 - m_Num2;
		}
		else if (oper == "*")
		{
			return m_Num1 * m_Num2;
		}
		//å¦‚æœæƒ³æ‰©å±•æ–°çš„åŠŸèƒ½ï¼Œéœ€æ±‚ä¿®æ”¹æºç 
		//åœ¨çœŸå®å¼€å‘ä¸­ï¼Œæå€¡ å¼€é—­åŸåˆ™
		//å¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•è¿›è¡Œå¼€æ”¾ï¼Œå¯¹ä¿®æ”¹è¿›è¡Œå…³é—­
	}
	int m_Num1,m_Num2;
};
void test02()
{
	//åˆ›å»ºè®¡ç®—å™¨å¯¹è±¡
	Calculator c;
	c.m_Num1 = 10;
	c.m_Num2 = 20;
	cout << c.m_Num1 << "+" << c.m_Num2 << "=" << c.getResult("+") << endl;
	cout << c.m_Num1 << "-" << c.m_Num2 << "=" << c.getResult("-") << endl;
	cout << c.m_Num1 << "*" << c.m_Num2 << "=" << c.getResult("*") << endl;

}
//åˆ©ç”¨å¤šæ€å®ç°è®¡ç®—å™¨
//å®ç°è®¡ç®—æœºæŠ½è±¡ç±»
class AbstractCalculator
{
public:
	virtual int getResult()
	{
		return 0;
	}
	int m_Num1,m_Num2;
};
//åŠ æ³•è®¡ç®—å™¨ç±»
class AddCalculator :public AbstractCalculator
{
public:
	int getResult()
	{
		return m_Num1 + m_Num2;
	}
};
//å‡æ³•è®¡ç®—å™¨ç±»
class SubCalculator :public AbstractCalculator
{
public:
	int getResult()
	{
		return m_Num1 - m_Num2;
	}
};
//ä¹˜æ³•è®¡ç®—å™¨ç±»
class MulCalculator :public AbstractCalculator
{
public:
	int getResult()
	{
		return m_Num1 * m_Num2;
	}
};
void test01()
{
	//å¤šæ€ä½¿ç”¨æ¡ä»¶
	// å¤šæ€çš„å¥½å¤„
	// 1ã€ç»„ç»‡æœºæ„æ¸…æ™°
	// 2ã€å¯è¯»æ€§å¼º
	// 3ã€å¯¹äºåæœŸå’Œå‰æœŸæ‰©å±•ä»¥åŠç»´æŠ¤æ€§å¼º
	//çˆ¶ç±»æŒ‡é’ˆæˆ–è€…å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡
	//åŠ æ³•è¿ç®—
	AbstractCalculator* abc = new AddCalculator;
	abc->m_Num1 = 10;
	abc->m_Num2 = 20; 
	cout << abc->m_Num1 << "+" << abc->m_Num2 << "=" << abc->getResult() << endl;
	//ç”¨å®Œåè®°å¾—é”€æ¯
	delete abc;
	//å‡æ³•è¿ç®—å™¨
	abc = new SubCalculator;
	abc->m_Num1 = 10;
	abc->m_Num2 = 20;
	cout << abc->m_Num1 << "-" << abc->m_Num2 << "=" << abc->getResult() << endl;
	delete abc;
	// ä¹˜æ³•è¿ç®—å™¨
	abc = new MulCalculator;
	abc->m_Num1 = 10;
	abc->m_Num2 = 20;
	cout << abc->m_Num1 << "*" << abc->m_Num2 << "=" << abc->getResult() << endl;
	delete abc;
}
int main()
{
	test01();
	//test02();
	system("pause");
	return 0;

} 
```

> æ€»ç»“ï¼šC++å¼€å‘æå€¡åˆ©ç”¨å¤šæ€è®¾è®¡ç¨‹åºæ¶æ„ï¼Œå› ä¸ºå¤šæ€ä¼˜ç‚¹å¾ˆå¤š

### çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»

åœ¨å¤šæ€ä¸­ï¼Œé€šå¸¸éç±»ä¸­è™šå‡½æ•°çš„å®ç°æ˜¯æ¯«æ— æ„ä¹‰çš„ï¼Œä¸»è¦éƒ½æ˜¯è°ƒç”¨å­ç±»é‡å†™çš„å†…å®¹

å› æ­¤å¯ä»¥å°†è™šå‡½æ•°æ”¹ä¸ºçº¯è™šå‡½æ•°

çº¯è™šå‡½æ•°è¯­æ³•ï¼š`virtual è¿”å›å€¼ç±»å‹ å‡½æ•°å (å‚æ•°åˆ—è¡¨)=0;`

å½“ç±»ä¸­æœ‰äº†çº¯è™šå‡½æ•°ï¼Œè¿™ä¸ªç±»ä¹Ÿç§°ä¸ºæŠ½è±¡ç±»

**æŠ½è±¡ç±»ç‰¹ç‚¹**ï¼š

* æ— æ³•å®ä¾‹åŒ–å¯¹è±¡
* å­ç±»å¿…é¡»é‡å†™æŠ½è±¡ç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™ä¹Ÿå±äºæŠ½è±¡ç±»

```c++
#include <iostream>
#include <string>
using namespace std;

//çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»
class Base
{
public:
	//çº¯è™šå‡½æ•°
	//åªè¦æœ‰ä¸€ä¸ªçº¯è™šå‡½æ•°ï¼Œè¿™ä¸ªç±»ç§°ä¸ºæŠ½è±¡ç±»
	//æŠ½è±¡ç±»ç‰¹ç‚¹
	//1ã€æ— æ³•å®ä¾‹åŒ–å¯¹è±¡
	//2ã€æŠ½è±¡ç±»çš„å­ç±» å¿…é¡»è¦é‡å†™çˆ¶ç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™ä¹Ÿå±äºæŠ½è±¡ç±»
	virtual void func() = 0;
};
class Son :public Base
{
public:
	virtual void func() 
	{
		cout << "funcå‡½æ•°è°ƒç”¨" << endl;
	};
};
void test01()
{
	/*Base b;//æ— æ³•å®ä¾‹åŒ–å¯¹è±¡
	new Base;*///æ— æ³•å®ä¾‹åŒ–å¯¹è±¡
	Son s;//å­ç±»å¿…é¡»é‡å†™çˆ¶ç±»ä¸­çš„çº¯è™šå‡½æ•°ï¼Œå¦åˆ™æ— æ³•å®ä¾‹åŒ–å¯¹è±¡
	Base* base = new Son;
	base->func();
}
int main()
{
	test01();
	//test02();
	system("pause");
	return 0;
} 
```

### è™šææ„å’Œçº¯è™šææ„

å¤šæ€ä½¿ç”¨æ—¶ï¼Œå¦‚æœå­ç±»ä¸­æœ‰å±æ€§å¼€è¾Ÿåˆ°å †åŒºï¼Œé‚£ä¹ˆçˆ¶ç±»æŒ‡é’ˆåœ¨é‡Šæ”¾æ—¶æ— æ³•è°ƒç”¨åˆ°å­ç±»çš„ææ„ä»£ç 

è§£å†³æ–¹å¼ï¼šå°†çˆ¶ç±»ä¸­çš„ææ„å‡½æ•°æ”¹ä¸ºè™šææ„æˆ–è€…çº¯è™šææ„

è™šææ„å’Œçº¯è™šææ„å…±æ€§ï¼š

* å¯ä»¥è§£å†³çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡
* éƒ½éœ€è¦æœ‰å…·ä½“çš„å‡½æ•°å®ç°

è™šææ„å’Œçº¯è™šææ„åŒºåˆ«ï¼š

* å¦‚æœæ˜¯çº¯è™šææ„ï¼Œè¯¥ç±»å±äºæŠ½è±¡ç±»ï¼Œæ— æ³•å®ä¾‹åŒ–å¯¹è±¡

è™šææ„è¯­æ³•ï¼š

è™šææ„è¯­æ³•ï¼š`virtual ~ç±»å(){}`

çº¯è™šææ„è¯­æ³•ï¼š`virtual ~ç±»å()=0;`è¿™æ˜¯å£°æ˜ï¼Œè¿˜éœ€åœ¨ç±»å¤–å†™ä¸€ä¸‹`ç±»å::~ç±»å(){}`

```c++
#include <iostream>
#include <string>
using namespace std;
//çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»
class Animal 
{
public:
	Animal()
	{
		cout << "Animalæ„é€ å‡½æ•°è°ƒç”¨" << endl;
	}
	//çº¯è™šå‡½æ•°
	virtual void speak() = 0;
	//åˆ©ç”¨è™šææ„å¯ä»¥è§£å†³ çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡æ—¶ä¸å¹²å‡€çš„é—®é¢˜
	/*virtual ~Animal()
	{
		cout << "Animalææ„å‡½æ•°è°ƒç”¨" << endl;
	}*/
	//çº¯è™šææ„	æ—¢éœ€è¦å£°æ˜ä¹Ÿéœ€è¦å®ç°
	//æœ‰äº†çº¯è™šææ„ä¹‹åï¼Œè¿™ä¸ªç±»ä¹Ÿå±äºæŠ½è±¡ç±»ï¼Œæ— æ³•å®ä¾‹åŒ–å¯¹è±¡
	virtual ~Animal() = 0;
};
Animal::~Animal() 
{
	cout << "Animalçš„çº¯è™šææ„è°ƒç”¨" << endl;
};
class Cat : public Animal
{
public:
	Cat(string name)
	{
		cout << "Catæ„é€ å‡½æ•°è°ƒç”¨" << endl;
		m_Name = new string(name);
	}
	virtual void speak()
	{
		cout << * m_Name<<"å°çŒ«åœ¨è¯´è¯ï¼š" << endl;
	}
	~Cat()
	{
		if (m_Name != NULL)
		{
			cout << "Catææ„å‡½æ•°è°ƒç”¨" << endl;
			delete m_Name;
			m_Name = NULL;
		}
	}
	string* m_Name; 
};
void test01()
{
	Animal* animal = new Cat("Tom");
	animal->speak();
	//çˆ¶ç±»æŒ‡é’ˆåœ¨ææ„æ—¶å€™ï¼Œä¸ä¼šè°ƒç”¨å­ç±»ä¸­ææ„å‡½æ•°ï¼Œå¯¼è‡´å­ç±»å¦‚æœæœ‰å †åŒºå±æ€§ï¼Œå‡ºç°å†…å­˜æ³„éœ²æƒ…å†µ
	delete animal;
}
int main()
{
	test01(); 
	//test02();
	system("pause");
	return 0;
} virtual ~ç±»å()=0;
```

æ€»ç»“ï¼š

1. è™šææ„æˆ–çº¯è™šææ„å°±æ˜¯ç”¨æ¥è§£å†³é€šè¿‡çˆ¶ç±»æŒ‡é’ˆé‡Šæ”¾å­ç±»å¯¹è±¡
2. å¦‚æœå­ç±»ä¸­æ²¡æœ‰å †åŒºæ•°æ®ï¼Œå¯ä»¥ä¸å†™ä¸ºè™šææ„æˆ–çº¯è™šææ„
3. æ‹¥æœ‰çº¯è™šææ„å‡½æ•°çš„ç±»ä¹Ÿå±äºæŠ½è±¡ç±»

### å¤šæ€æ¡ˆä¾‹â€”-ç”µè„‘ç»„è£…

æ¡ˆä¾‹æè¿°ï¼š

ç”µè„‘ä¸»è¦ç»„æˆä¸è§å°¾CPUï¼ˆç”¨äºè®¡ç®—æœºï¼‰ï¼Œæ˜¾å¡ï¼ˆç”¨äºæ˜¾ç¤ºï¼‰ï¼Œå†…å­˜æ¡ï¼ˆç”¨äºå­˜å‚¨ï¼‰å°†æ¯ä¸ªé›¶ä»¶å°è£…å‡ºæŠ½è±¡åŸºç±»ï¼Œå¹¶ä¸”æä¾›ä¸åŒçš„å‚å•†ç”Ÿäº§ä¸åŒçš„é›¶ä»¶ï¼Œä¾‹å¦‚Intelå‚å•†é€šè¿‡
